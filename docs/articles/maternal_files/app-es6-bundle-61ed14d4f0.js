!function(){"use strict";var t,e,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i={exports:{}},n={exports:{}};t=n,(e=e||{}).MathJaxConfig={extensions:["mml2jax.js","[a11y]/accessibility-menu.js"],jax:["input/TeX","input/MathML","output/HTML-CSS"],displayAlign:"left",menuSettings:{collapsible:!1,autocollapse:!1,explorer:!1,zoom:"Click"},tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],preview:"TeX",processEscapes:!0},mml2jax:{preview:["MathML"]},"fast-preview":{disabled:!0},"HTML-CSS":{EqnChunk:500,EqnChunkFactor:1,EqnChunkDelay:1e3,availableFonts:["STIX","TeX"],preferredFont:["STIX"],webFont:["TeX"],imageFont:["TeX"],styles:{".MathJax_Display":{margin:0},"#MathJax_Message":{margin:0}},linebreaks:{automatic:!0,width:"90% container"},scale:97},TeX:{TagSide:"right",Macros:{bgroup:"{\\unicode{x007B}}",egroup:"{\\unicode{x007D}}",enskip:"{\\enspace}",female:"{\\unicode{x2640}}",male:"{\\unicode{x2642}}",lefteqn:["\\rlap{#1}",1],parbox:["\\mbox{#2}",2],upvarepsilon:"{\\unicode{x03B5}}",ss:"{\\unicode{x1E9E}}",textperthousand:"{\\unicode{x2030}}",textquotedblright:"{\\unicode{x201D}}",textregistered:"{\\unicode{0x00AE}}",textvisiblespace:"{\\unicode{x2423}}",upvartheta:"{\\unicode{x03D1}}",Upvartheta:"{\\unicode{x03F4}}",Upgamma:"{\\unicode[Times]{x0393}}",upgamma:"{\\unicode[Times]{x03B3}}",Updelta:"{\\unicode[Times]{x0394}}",updelta:"{\\unicode[Times]{x03B4}}",Uptheta:"{\\unicode[Times]{x0398}}",uptheta:"{\\unicode[Times]{x03B8}}",Upkappa:"{\\unicode[Times]{x039A}}",upkappa:"{\\unicode[Times]{x03BA}}",Uplambda:"{\\unicode[Times]{x039B}}",uplambda:"{\\unicode[Times]{x03BB}}",Upsigma:"{\\unicode[Times]{x03A3}}",upsigma:"{\\unicode[Times]{x03C3}}",Upmu:"{\\unicode[Times]{x039C}}",upmu:"{\\unicode[Times]{x03BC}}",Upiota:"{\\unicode[Times]{x0399}}",upiota:"{\\unicode[Times]{x03B9}}",Upnu:"{\\unicode[Times]{x039D}}",upnu:"{\\unicode[Times]{x03BD}}",Upxi:"{\\unicode[Times]{x039E}}",upxi:"{\\unicode[Times]{x03BE}}",Upomicron:"{\\unicode[Times]{x039F}}",upomicron:"{\\unicode[Times]{x03BF}}",Uppi:"{\\unicode[Times]{x03A0}}",uppi:"{\\unicode[Times]{x03C0}}",Uprho:"{\\unicode[Times]{x03A1}}",uprho:"{\\unicode[Times]{x03C1}}",Uptau:"{\\unicode[Times]{x03A4}}",uptau:"{\\unicode[Times]{x03C4}}",Upupsilon:"{\\unicode[Times]{x03A5}}",upupsilon:"{\\unicode[Times]{x03C5}}",Upphi:"{\\unicode[Times]{x03A6}}",upphi:"{\\unicode[Times]{x03C6}}",Upchi:"{\\unicode[Times]{x03A7}}",upchi:"{\\unicode[Times]{x03C7}}",Uppsi:"{\\unicode[Times]{x03A8}}",uppsi:"{\\unicode[Times]{x03C8}}",Upomega:"{\\unicode[Times]{x03A9}}",upomega:"{\\unicode[Times]{x03C9}}",upalpha:"{\\unicode[Times]{x03B1}}",upbeta:"{\\unicode[Times]{x03B2}}",upepsilon:"{\\unicode[Times]{x03B5}}",upzeta:"{\\unicode[Times]{x03B6}}",upeta:"{\\unicode[Times]{x03B7}}",permille:"{\\unicode{x2030}}",hfill:"{\\enspace\\enspace}",copyright:"{\\unicode{x00A9}}",dag:"{\\unicode{x2020}}",ddag:"{\\unicode{x2021}}",ointop:"{\\unicode{0x222E}}",P:"{\\unicode{0x00B6}}",lhook:"{\\hookrightarrow}",rhook:"{\\hookleftarrow}",upvarkappa:"{\\unicode{x03F0}}",upvarpi:"{\\unicode{x03D5}}",upvarrho:"{\\unicode{x03F1}}",upvarsigma:"{\\unicode{x03C3}}",upvarphi:"{\\unicode{x03C6}}",varsigma:"{\\unicode{x03C2}}",sigma:"{\\unicode{x03C3}}",Sigma:"{\\unicode{x03A3}}",fint:"{\\unicode{x2A0D}}",diameter:"{\\unicode{x2300}}",varOmega:"{\\unicode{x03A9}}",varDelta:"{\\unicode{x0394}}",varLambda:"{\\unicode{x039B}}",varPhi:"{\\unicode{x03A6}}",varPi:"{\\unicode{x03A0}}",varPsi:"{\\unicode{x03A8}}",varSigma:"{\\unicode{x03A3}}",varTheta:"{\\unicode{x0398}}",varUpsilon:"{\\unicode{x03A5}}",varXi:"{\\unicode{x039E}}",varepsilon:"{\\unicode{x03B5}}",varkappa:"{\\unicode{x03F0}}",varpi:"{\\unicode{x03D6}}",varphi:"{\\unicode{x03C6}}",varrho:"{\\unicode{x03F1}}",vartheta:"{\\unicode{x03D1}}",mathcalligra:["\\mathscr{#1}",1],fancyscript:["{\\scr #1}",1],textsf:["\\sf{#1}",1],texttt:["\\tt{#1}",1],raisebox:["\\raise{#1}{\\text{#2}}",2],varvec:["\\pmb{#1}",1]}},MathMenu:{showFontMenu:!0}},t.exports={defaultConfig:e.MathJaxConfig};var o={exports:{}};!function(t){var e=e||{};e.MathJaxPrefilterHook=function(t){t.math=t.math.replace(/\\(text|mbox|hbox)\s*{\s*\\AA\s*}/g,"\\unicode{x00C5}"),t.math=t.math.replace(/\\AA/g,"\\unicode{x00C5}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\aa\s*}/g,"\\unicode{x00E5}"),t.math=t.math.replace(/\\aa/g,"\\unicode{x00E5}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\AE\s*}/g,"\\unicode{x00C6}"),t.math=t.math.replace(/\\AE(?![a-zA-Z])/g,"\\unicode{x00C6}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\ae\s*}/g,"\\unicode{x00E6}"),t.math=t.math.replace(/\\ae(?![a-zA-Z])/g,"\\unicode{x00E6}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\OE\s*}/g,"\\unicode{x0152}"),t.math=t.math.replace(/\\OE(?![a-zA-Z])/g,"\\unicode{x0152}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\oe\s*}/g,"\\unicode{x00153}"),t.math=t.math.replace(/\\oe(?![a-zA-Z])/g,"\\unicode{x0153}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\NG\s*}/g,"\\unicode{x014A}"),t.math=t.math.replace(/\\NG/g,"\\unicode{x014A}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\ng\s*}/g,"\\unicode{x014B}"),t.math=t.math.replace(/\\ng/g,"\\unicode{x014B}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\L\s*}/g,"\\unicode{x0141}"),t.math=t.math.replace(/\\L(?![a-zA-Z])/g,"\\unicode{x0141}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\l\s*}/g,"\\unicode{x0142}"),t.math=t.math.replace(/\\l(?![a-zA-Z])/g,"\\unicode{x0142}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\O\s*}/g,"\\unicode{x00D8}"),t.math=t.math.replace(/\\O(?![a-zA-Z])/g,"\\unicode{x00D8}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\o\s*}/g,"\\unicode{x00F8}"),t.math=t.math.replace(/\\o(?![a-zA-Z])/g,"\\unicode{x00F8}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\\^A\s*}/g,"\\unicode{x00C2}"),t.math=t.math.replace(/\\\^A/g,"\\unicode{x00C2}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\\^a\s*}/g,"\\unicode{x00E2}"),t.math=t.math.replace(/\\\^a/g,"\\unicode{x00E2}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\\^U\s*}/g,"\\unicode{x00DB}"),t.math=t.math.replace(/\\\^U/g,"\\unicode{x00DB}"),t.math=t.math.replace(/\\(text|mbox)\s*{\s*\\\^u\s*}/g,"\\unicode{x00FB}"),t.math=t.math.replace(/\\\^u/g,"\\unicode{x00FB}"),t.math=t.math.replace(/\\text{\\textregistered}/g,"\\unicode{x00AE}"),t.math=t.math.replace(/\\text{\\textvisiblespace}/g,"\\unicode{x2423}"),t.math=t.math.replace(/\\lowercase\s*\{([A-Z])\}/g,(function(t,e){return[e.toLowerCase()]})),t.math=t.math.replace(/\\uppercase\s*\{([a-z])\}/g,(function(t,e){return[e.toUpperCase()]})),t.math=t.math.replace(/\\lowercase\s*\{(.*?)\}/g,"$1"),t.math=t.math.replace(/\\uppercase\s*\{(.*?)\}/g,"$1"),t.math=t.math.replace(/\\textendash/g,"{-}"),t.math=t.math.replace(/\\selectfont/g,""),t.math=t.math.replace(/\\textup/g,"\\text"),t.math=t.math.replace(/\\hdots/g,"\\ldots"),t.math=t.math.replace(/\\nicefrac/g,"\\bfrac"),t.math=t.math.replace(/\\noalign/g,""),t.math=t.math.replace(/\\medskip/g,""),t.math=t.math.replace(/\\vadjust/g,""),t.math=t.math.replace(/\\!/g,""),t.math=t.math.replace(/\\thinmuskip/g,"mu"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{a\}/g,"\\unicode{x1D552}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{b\}/g,"\\unicode{x1D553}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{c\}/g,"\\unicode{x1D554}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{d\}/g,"\\unicode{x1D555}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{e\}/g,"\\unicode{x1D556}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{f\}/g,"\\unicode{x1D557}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{g\}/g,"\\unicode{x1D558}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{h\}/g,"\\unicode{x1D559}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{i\}/g,"\\unicode{x1D55A}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{j\}/g,"\\unicode{x1D55B}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{k\}/g,"\\unicode{x1D55C}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{l\}/g,"\\unicode{x1D55D}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{m\}/g,"\\unicode{x1D55E}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{n\}/g,"\\unicode{x1D55F}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{o\}/g,"\\unicode{x1D560}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{p\}/g,"\\unicode{x1D561}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{q\}/g,"\\unicode{x1D562}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{r\}/g,"\\unicode{x1D563}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{s\}/g,"\\unicode{x1D564}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{t\}/g,"\\unicode{x1D565}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{u\}/g,"\\unicode{x1D566}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{v\}/g,"\\unicode{x1D567}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{w\}/g,"\\unicode{x1D568}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{x\}/g,"\\unicode{x1D569}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{y\}/g,"\\unicode{x1D56A}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{z\}/g,"\\unicode{x1D56B}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{0\}/g,"\\unicode{x1D7D8}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{1\}/g,"\\unicode{x1D7D9}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{2\}/g,"\\unicode{x1D7DA}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{3\}/g,"\\unicode{x1D7DB}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{4\}/g,"\\unicode{x1D7DC}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{5\}/g,"\\unicode{x1D7DD}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{6\}/g,"\\unicode{x1D7DE}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{7\}/g,"\\unicode{x1D7DF}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{8\}/g,"\\unicode{x1D7E0}"),t.math=t.math.replace(/\\mathbb[m]?(ss|tt)?\s*\{9\}/g,"\\unicode{x1D7E1}"),t.math=t.math.replace(/\\mathbbm(ss|tt)?\s*\{([A-Z]+)\}/g,"\\mathbb{$2}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{a\}/g,"\\unicode{x1D4B6}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{b\}/g,"\\unicode{x1D4B7}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{c\}/g,"\\unicode{x1D4B8}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{d\}/g,"\\unicode{x1D4B9}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{e\}/g,"\\unicode{x212F}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{f\}/g,"\\unicode{x1D4BB}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{g\}/g,"\\unicode{x210A}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{h\}/g,"\\unicode{x1D4BD}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{i\}/g,"\\unicode{x1D4BE}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{j\}/g,"\\unicode{x1D4BF}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{k\}/g,"\\unicode{x1D4C0}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{l\}/g,"\\unicode{x1D4C1}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{m\}/g,"\\unicode{x1D4C2}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{n\}/g,"\\unicode{x1D4C3}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{o\}/g,"\\unicode{x2134}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{p\}/g,"\\unicode{x1D4C5}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{q\}/g,"\\unicode{x1D4C6}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{r\}/g,"\\unicode{x1D4C7}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{s\}/g,"\\unicode{x1D4C8}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{t\}/g,"\\unicode{x1D4C9}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{u\}/g,"\\unicode{x1D4CA}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{v\}/g,"\\unicode{x1D4CB}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{w\}/g,"\\unicode{x1D4CC}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{x\}/g,"\\unicode{x1D4CD}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{y\}/g,"\\unicode{x1D4CE}"),t.math=t.math.replace(/\\math(cal|scr|calligra)\s*\{z\}/g,"\\unicode{x1D4CF}"),t.math=t.math.replace(/\\coloneq/g,":="),t.math=t.math.replace(/\\kern *-\\nulldelimiterspace/g,""),t.math=t.math.replace(/\\user2/g,"\\pmb"),t.math=t.math.replace(/\\mapstochar/g,"\\mapsto"),t.math=t.math.replace(/\s*<!\[CDATA\[\s*(.*)\s*\]\]>\s*/gm,"$1"),t.math=t.math.replace(/\\parbox(\[\w\])?{(.*?)}{(.*?)\\\\ (.*?)}/g,"\\parbox{$2}{$3 $4}"),t.math=t.math.replace(/\\vspace\*?{[^}]+}/g,""),t.math=t.math.replace(/\\vspace\s*\*\{([^\{\}]+)\}/g,""),t.math=t.math.replace(/\\vspace\*?{[^}]+}/g,""),t.math=t.math.replace(/\\text{\\small{([^}]+)}}/g,"\\scriptstyle{\\text{$1}}"),t.math=t.math.replace(/\\text{\\footnotesize{([^}]+)}}/g,"\\scriptstyle{\\text{$1}}"),t.math=t.math.replace(/\\text{\\scriptsize{([^}]+)}}/g,"\\scriptscriptstyle{\\text{$1}}"),t.math=t.math.replace(/\\text{\\tiny{([^}]+)}}/g,"\\scriptscriptstyle{\\text{$1}}"),t.math=t.math.replace(/\\text\{\\bf\{([^\{\}]+)\}\}/g,"\\textbf{$1}"),t.math=t.math.replace(/\\text\{\\mathbf\{([^\{\}]+)\}\}/g,"\\textbf{$1}"),t.math=t.math.replace(/\\textrm/g,"\\mathrm"),t.math=t.math.replace(/\\bf{/g,"\\mathbf{"),t.math=t.math.replace(/\\text\\EUR/g,"€"),t.math=t.math.replace(/\\mathop ([^{]+?)\\limits/g,"\\mathop{$1}\\limits"),t.math=t.math.replace(/\\tilde\s*\\vec\s*(.+?)/g,"\\tilde {\\vec $1}"),t.math=t.math.replace(/\\tilde\s*{\\vec\s*{(.+?)}}/g,"\\tilde {\\vec $1}"),t.math=t.math.replace(/\\downarrow([^ ])/g,"\\downarrow $1"),t.math=t.math.replace(/\\gamma([^ ])/g,"\\gamma $1"),t.math=t.math.replace(/\\intop([^ _^])/g,"\\intop $1"),t.math=t.math.replace(/\\user1/g,"\\mathcal"),t.math=t.math.replace(/\\(big|Big|bigg|Bigg) *{([^}]+)}/g,"\\$1$2"),t.math=t.math.replace(/\\textnormal{\\textsc{([^}]+)}}/g,"\\textsc {$1}"),t.math=t.math.replace(/\\textsc *{([^}]+)}/g,"{\\rm ~#~$1~#~}"),t.math=t.math.replace(/\\vline/g,"\\vert"),t.math=t.math.replace(/\\left\s*\\llbracket/g,"\\unicode{x27E6}"),t.math=t.math.replace(/\\right\s*\\rrbracket/g,"\\unicode{x27E7}"),t.math=t.math.replace(/\\llbracket/g,"\\unicode{x27E6}"),t.math=t.math.replace(/\\rrbracket/g,"\\unicode{x27E7}"),t.math=t.math.replace(/\\llfloor/g,"\\lfloor\\hspace{-2pt}\\lfloor"),t.math=t.math.replace(/\\rrfloor/g,"\\rfloor\\hspace{-2pt}\\rfloor"),t.math=t.math.replace(/\\llceil/g,"\\lceil\\hspace{-2pt}\\lceil"),t.math=t.math.replace(/\\rrceil/g,"\\rceil\\hspace{-2pt}\\rceil"),t.math=t.math.replace(/\\joinrel/g,"\\hspace{-1pt}"),t.math=t.math.replace(/\\perp\\hspace{-11.5pt}\\perp/g,"\\unicode{x2AEB}"),t.math=t.math.replace(/\\pounds/g,"£"),t.math=t.math.replace(/\\raisebox *{-[^}]+}{\$(.+?)\$}/g,"_{$1}"),t.math=t.math.replace(/\\raisebox *{[^}]+}{\$(.+?)\$}/g,"^{$1}"),t.math=t.math.replace(/\\CIRCLE/g,"{\\large\\unicode[.55,0.05]{x25CF}}"),t.math=t.math.replace(/\\LEFTcircle/g,"{\\large\\unicode[.55,0.05]{x25D1}}"),t.math=t.math.replace(/\\RIGHTcircle/g,"{\\large\\unicode[.55,0.05]{x25D0}}"),t.math=t.math.replace(/\\fontencoding{U}\Sfontfamily{wasy}\Sselectfont\Schar104/g,"‰"),t.math=t.math.replace(/\\Dot/g,"\\dot"),t.math=t.math.replace(/\\MakeLowercase\s*\{([A-Z])\}/g,(function(t,e){return[e.toLowerCase()]})),t.math=t.math.replace(/\\MakeUppercase\s*\{([a-z])\}/g,(function(t,e){return[e.toUpperCase()]})),t.math=t.math.replace(/\\MakeLowercase\s*\{(.*?)\}/g,"$1"),t.math=t.math.replace(/\\MakeUppercase\s*\{(.*?)\}/g,"$1"),t.math=t.math.replace(/\\textbf\s*\{\\tiny\s*\{([^\{\}]+)\}\}/g,"\\tiny{\\textbf{$1}}"),t.math=t.math.replace(/\\text\s*{\\tiny\s*\\textbf\s*\{([^\{\}]+)\}\}/g,"\\tiny{\\textbf{$1}}"),t.math=t.math.replace(/\\textit\s*\{\\textbf\s*\{([^\{\}]+)\}\}/g,"\\boldsymbol{$1}"),t.math=t.math.replace(/\\textbf\s*\{\\textit\s*\{([^\{\}]+)\}\}/g,"\\boldsymbol{$1}"),t.math=t.math.replace(/\\textsf\s*\{\\textbf\s*\{([^\{\}]+)\}\}/g,"\\textsf{$1}"),t.math=t.math.replace(/\\textbf\s*\{\\textsf\s*\{([^\{\}]+)\}\}/g,"\\textsf{$1}"),t.math=t.math.replace(/\\texttt{\\small{([^}]+)}}/g,"\\small{\\texttt{$1}}"),t.math=t.math.replace(/\\texttt{\\footnotesize{([^}]+)}}/g,"\\scriptstyle{\\texttt{$1}}"),t.math=t.math.replace(/\\texttt{\\scriptstyle{([^}]+)}}/g,"\\scriptstyle{\\texttt{$1}}"),t.math=t.math.replace(/\\footnotesize/g,"\\scriptstyle "),t.math=t.math.replace(/\\text{\\TH}/g,"\\unicode{xDE}"),t.math=t.math.replace(/\\text{\\th}/g,"\\unicode{xFE}"),t.math=t.math.replace(/\\textit{\\TH}/g,"\\it{\\unicode{xDE}}"),t.math=t.math.replace(/\\textit{\\th}/g,"\\it{\\unicode{xFE}}"),t.math=t.math.replace(/\\texttt\{\\textit\{([^\{\}]+)\}\}/g,"\\texttt{$1}"),t.math=t.math.replace(/\\fbox\{\\hbox\{(.+)\}\}/g,"\\fbox{$1}"),t.math.match(/(\\text\s*\{.*?\}\s*\\hspace\s*\{.*?\}\s*)/)||t.math.match(/\\begin{array}/)||(t.math=t.math.replace(/\\text\s*\{(.*?)\\hspace\s*\{(.*?)\}(.*?)\}/g,"\\mathrm{$1\\hspace{$2}\\mathrm{$3}}")),t.math=t.math.replace(/\\text\s*\{\\,(.*?)\}/g,"\\,\\text{$1}"),t.math.match(/(\\text\s*\{.*?\})/)?(t.math=t.math.replace(/\\"a|{\\"a}|\\"{a}/g,"}\\unicode{x00E4}\\text{"),t.math=t.math.replace(/\\"o|{\\"o}|\\"{o}/g,"}\\unicode{x00F6}\\text{"),t.math=t.math.replace(/\\"u|{\\"u}|\\"{u}/g,"}\\unicode{x00FC}\\text{"),t.math=t.math.replace(/\\"A|{\\"A}|\\"{A}/g,"}\\unicode{x00C4}\\text{"),t.math=t.math.replace(/\\"O|{\\"O}|\\"{O}/g,"}\\unicode{x00D6}\\text{"),t.math=t.math.replace(/\\"U|{\\"U}|\\"{U}/g,"}\\unicode{x00DC}\\text{"),t.math=t.math.replace(/{?\\ss}?/g,"}\\unicode{x00DF}\\text{"),t.math=t.math.replace(/\\`e|{\\`e}|\\`{e}/g,"}\\unicode{x00E8}\\text{"),t.math=t.math.replace(/\\'e|{\\'e}|\\'{e}/g,"}\\unicode{x00E9}\\text{"),t.math=t.math.replace(/\\`E|{\\`E}|\\`{E}/g,"}\\unicode{x00C8}\\text{"),t.math=t.math.replace(/\\'E|{\\'E}|\\'{E}/g,"}\\unicode{x00C9}\\text{"),t.math=t.math.replace(/\\`a|{\\`a}|\\`{a}/g,"}\\unicode{x00E0}\\text{"),t.math=t.math.replace(/\\'a|{\\'a}|\\'{a}/g,"}\\unicode{x00E1}\\text{"),t.math=t.math.replace(/\\`A|{\\`A}|\\`{A}/g,"}\\unicode{x00C0}\\text{"),t.math=t.math.replace(/\\'A|{\\'A}|\\'{A}/g,"}\\unicode{x00C1}\\text{"),t.math=t.math.replace(/\\`o|{\\`o}|\\`{o}/g,"}\\unicode{x00F3}\\text{"),t.math=t.math.replace(/\\'o|{\\'o}|\\'{o}/g,"}\\unicode{x00F4}\\text{"),t.math=t.math.replace(/\\`O|{\\`O}|\\`{O}/g,"}\\unicode{x00D3}\\text{"),t.math=t.math.replace(/\\'O|{\\'O}|\\'{O}/g,"}\\unicode{x00D4}\\text{"),t.math=t.math.replace(/\\c\s*{([a-z])}/g,"}$1\\hspace{-2.5pt}\\unicode{x0327}\\hspace{2.5pt}\\text{"),t.math=t.math.replace(/\\c\s*{([A-Z])}/g,"}$1\\hspace{-4.5pt}\\unicode{x0327}\\hspace{4.5pt}\\text{")):(t.math=t.math.replace(/\\"a|{\\"a}|\\"{a}/g,"\\unicode{x00E4}"),t.math=t.math.replace(/\\"o|{\\"o}|\\"{o}/g,"\\unicode{x00F6}"),t.math=t.math.replace(/\\"u|{\\"u}|\\"{u}/g,"\\unicode{x00FC}"),t.math=t.math.replace(/\\"A|{\\"A}|\\"{A}/g,"\\unicode{x00C4}"),t.math=t.math.replace(/\\"O|{\\"O}|\\"{O}/g,"\\unicode{x00D6}"),t.math=t.math.replace(/\\"U|{\\"U}|\\"{U}/g,"\\unicode{x00DC}"),t.math=t.math.replace(/{?\\ss}?/g,"\\unicode{x00DF}"),t.math=t.math.replace(/\\`e|{\\`e}|\\`{e}/g,"\\unicode{x00E8}"),t.math=t.math.replace(/\\'e|{\\'e}|\\'{e}/g,"\\unicode{x00E9}"),t.math=t.math.replace(/\\`E|{\\`E}|\\`{E}/g,"\\unicode{x00C8}"),t.math=t.math.replace(/\\'E|{\\'E}|\\'{E}/g,"\\unicode{x00C9}"),t.math=t.math.replace(/\\`a|{\\`a}|\\`{a}/g,"\\unicode{x00E0}"),t.math=t.math.replace(/\\'a|{\\'a}|\\'{a}/g,"\\unicode{x00E1}"),t.math=t.math.replace(/\\`A|{\\`A}|\\`{A}/g,"\\unicode{x00C0}"),t.math=t.math.replace(/\\'A|{\\'A}|\\'{A}/g,"\\unicode{x00C1}"),t.math=t.math.replace(/\\`o|{\\`o}|\\`{o}/g,"\\unicode{x00F3}"),t.math=t.math.replace(/\\'o|{\\'o}|\\'{o}/g,"\\unicode{x00F4}"),t.math=t.math.replace(/\\`O|{\\`O}|\\`{O}/g,"\\unicode{x00D3}"),t.math=t.math.replace(/\\'O|{\\'O}|\\'{O}/g,"\\unicode{x00D4}"),t.math=t.math.replace(/\\c\s*{([a-z])}/g,"$1\\hspace{-2.5pt}\\unicode{x0327}\\hspace{2.5pt}"),t.math=t.math.replace(/\\c\s*{([A-Z])}/g,"$1\\hspace{-5pt}\\unicode{x0327}\\hspace{5pt}")),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRA\}/g,"\\unicode{x0410}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRB\}/g,"\\unicode{x0411}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRV\}/g,"\\unicode{x0412}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRG\}/g,"\\unicode{x0413}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRD\}/g,"\\unicode{x0414}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRE\}/g,"\\unicode{x0415}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRZH\}/g,"\\unicode{x0416}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRZ\}/g,"\\unicode{x0417}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRI\}/g,"\\unicode{x0418}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRISHRT\}/g,"\\unicode{x0419}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRK\}/g,"\\unicode{x041A}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRL\}/g,"\\unicode{x041B}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRM\}/g,"\\unicode{x041C}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRN\}/g,"\\unicode{x041D}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRO\}/g,"\\unicode{x041E}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRP\}/g,"\\unicode{x041F}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRR\}/g,"\\unicode{x0420}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRS\}/g,"\\unicode{x0421}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRT\}/g,"\\unicode{x0422}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRU\}/g,"\\unicode{x0423}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRF\}/g,"\\unicode{x0424}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRH\}/g,"\\unicode{x0425}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRC\}/g,"\\unicode{x0426}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRCH\}/g,"\\unicode{x0427}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRSH\}/g,"\\unicode{x0428}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRSHCH\}/g,"\\unicode{x0429}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRHRDSN\}/g,"\\unicode{x042A}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRERY\}/g,"\\unicode{x042B}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRSFTSN\}/g,"\\unicode{x042C}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYREREV\}/g,"\\unicode{x042D}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRYU\}/g,"\\unicode{x042E}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\CYRYA\}/g,"\\unicode{x042F}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyra\}/g,"\\unicode{x0430}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrb\}/g,"\\unicode{x0431}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrv\}/g,"\\unicode{x0432}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrg\}/g,"\\unicode{x0433}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrd\}/g,"\\unicode{x0434}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyre\}/g,"\\unicode{x0435}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrzh\}/g,"\\unicode{x0436}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrz\}/g,"\\unicode{x0437}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyri\}/g,"\\unicode{x0438}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrishrt\}/g,"\\unicode{x0439}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrk\}/g,"\\unicode{x043A}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrl\}/g,"\\unicode{x043B}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrm\}/g,"\\unicode{x043C}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrn\}/g,"\\unicode{x043D}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyro\}/g,"\\unicode{x043E}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrp\}/g,"\\unicode{x043F}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrr\}/g,"\\unicode{x0440}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrs\}/g,"\\unicode{x0441}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrt\}/g,"\\unicode{x0442}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyru\}/g,"\\unicode{x0443}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrf\}/g,"\\unicode{x0444}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrh\}/g,"\\unicode{x0445}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrc\}/g,"\\unicode{x0446}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrch\}/g,"\\unicode{x0447}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrsh\}/g,"\\unicode{x0448}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrshch\}/g,"\\unicode{x0449}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrhrdsn\}/g,"\\unicode{x044A}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrery\}/g,"\\unicode{x044B}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrsftsn\}/g,"\\unicode{x044C}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrerev\}/g,"\\unicode{x044D}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyryu\}/g,"\\unicode{x044E}"),t.math=t.math.replace(/(\\text(bf|it)?|\\boldsymbol)\s*\{\\cyrya\}/g,"\\unicode{x044F}"),t.math=t.math.replace(/\\textcircled\s*\{0\}/g,"\\unicode{x24EA}"),t.math=t.math.replace(/\\textcircled\s*\{1\}/g,"\\unicode{x2460}"),t.math=t.math.replace(/\\textcircled\s*\{2\}/g,"\\unicode{x2461}"),t.math=t.math.replace(/\\textcircled\s*\{3\}/g,"\\unicode{x2462}"),t.math=t.math.replace(/\\textcircled\s*\{4\}/g,"\\unicode{x2463}"),t.math=t.math.replace(/\\textcircled\s*\{5\}/g,"\\unicode{x2464}"),t.math=t.math.replace(/\\textcircled\s*\{6\}/g,"\\unicode{x2465}"),t.math=t.math.replace(/\\textcircled\s*\{7\}/g,"\\unicode{x2466}"),t.math=t.math.replace(/\\textcircled\s*\{8\}/g,"\\unicode{x2467}"),t.math=t.math.replace(/\\textcircled\s*\{9\}/g,"\\unicode{x2468}"),t.math=t.math.replace(/\\textcircled\s*\{10\}/g,"\\unicode{x2469}"),t.math=t.math.replace(/\\textcircled\s*\{11\}/g,"\\unicode{x246A}"),t.math=t.math.replace(/\\textcircled\s*\{12\}/g,"\\unicode{x246B}"),t.math=t.math.replace(/\\textcircled\s*\{13\}/g,"\\unicode{x246C}"),t.math=t.math.replace(/\\textcircled\s*\{14\}/g,"\\unicode{x246D}"),t.math=t.math.replace(/\\textcircled\s*\{15\}/g,"\\unicode{x246E}"),t.math=t.math.replace(/\\textcircled\s*\{16\}/g,"\\unicode{x246F}"),t.math=t.math.replace(/\\textcircled\s*\{17\}/g,"\\unicode{x2470}"),t.math=t.math.replace(/\\textcircled\s*\{18\}/g,"\\unicode{x2471}"),t.math=t.math.replace(/\\textcircled\s*\{19\}/g,"\\unicode{x2472}"),t.math=t.math.replace(/\\textcircled\s*\{20\}/g,"\\unicode{x2473}"),t.math=t.math.replace(/\\textcircled\s*\{a\}/g,"\\unicode{x24D0}"),t.math=t.math.replace(/\\textcircled\s*\{b\}/g,"\\unicode{x24D1}"),t.math=t.math.replace(/\\textcircled\s*\{c\}/g,"\\unicode{x24D2}"),t.math=t.math.replace(/\\textcircled\s*\{d\}/g,"\\unicode{x24D3}"),t.math=t.math.replace(/\\textcircled\s*\{e\}/g,"\\unicode{x24D4}"),t.math=t.math.replace(/\\textcircled\s*\{f\}/g,"\\unicode{x24D5}"),t.math=t.math.replace(/\\textcircled\s*\{g\}/g,"\\unicode{x24D6}"),t.math=t.math.replace(/\\textcircled\s*\{h\}/g,"\\unicode{x24D7}"),t.math=t.math.replace(/\\textcircled\s*\{i\}/g,"\\unicode{x24D8}"),t.math=t.math.replace(/\\textcircled\s*\{j\}/g,"\\unicode{x24D9}"),t.math=t.math.replace(/\\textcircled\s*\{k\}/g,"\\unicode{x24DA}"),t.math=t.math.replace(/\\textcircled\s*\{l\}/g,"\\unicode{x24DB}"),t.math=t.math.replace(/\\textcircled\s*\{m\}/g,"\\unicode{x24DC}"),t.math=t.math.replace(/\\textcircled\s*\{n\}/g,"\\unicode{x24DD}"),t.math=t.math.replace(/\\textcircled\s*\{o\}/g,"\\unicode{x24DE}"),t.math=t.math.replace(/\\textcircled\s*\{p\}/g,"\\unicode{x24DF}"),t.math=t.math.replace(/\\textcircled\s*\{q\}/g,"\\unicode{x24E0}"),t.math=t.math.replace(/\\textcircled\s*\{r\}/g,"\\unicode{x24E1}"),t.math=t.math.replace(/\\textcircled\s*\{s\}/g,"\\unicode{x24E2}"),t.math=t.math.replace(/\\textcircled\s*\{t\}/g,"\\unicode{x24E3}"),t.math=t.math.replace(/\\textcircled\s*\{u\}/g,"\\unicode{x24E4}"),t.math=t.math.replace(/\\textcircled\s*\{v\}/g,"\\unicode{x24E5}"),t.math=t.math.replace(/\\textcircled\s*\{w\}/g,"\\unicode{x24E6}"),t.math=t.math.replace(/\\textcircled\s*\{x\}/g,"\\unicode{x24E7}"),t.math=t.math.replace(/\\textcircled\s*\{y\}/g,"\\unicode{x24E8}"),t.math=t.math.replace(/\\textcircled\s*\{z\}/g,"\\unicode{x24E9}"),t.math=t.math.replace(/\\textcircled\s*\{A\}/g,"\\unicode{x24B6}"),t.math=t.math.replace(/\\textcircled\s*\{B\}/g,"\\unicode{x24B7}"),t.math=t.math.replace(/\\textcircled\s*\{C\}/g,"\\unicode{x24B8}"),t.math=t.math.replace(/\\textcircled\s*\{D\}/g,"\\unicode{x24B9}"),t.math=t.math.replace(/\\textcircled\s*\{E\}/g,"\\unicode{x24BA}"),t.math=t.math.replace(/\\textcircled\s*\{F\}/g,"\\unicode{x24BB}"),t.math=t.math.replace(/\\textcircled\s*\{G\}/g,"\\unicode{x24BC}"),t.math=t.math.replace(/\\textcircled\s*\{H\}/g,"\\unicode{x24BD}"),t.math=t.math.replace(/\\textcircled\s*\{I\}/g,"\\unicode{x24BE}"),t.math=t.math.replace(/\\textcircled\s*\{J\}/g,"\\unicode{x24BF}"),t.math=t.math.replace(/\\textcircled\s*\{K\}/g,"\\unicode{x24C0}"),t.math=t.math.replace(/\\textcircled\s*\{L\}/g,"\\unicode{x24C1}"),t.math=t.math.replace(/\\textcircled\s*\{M\}/g,"\\unicode{x24C2}"),t.math=t.math.replace(/\\textcircled\s*\{N\}/g,"\\unicode{x24C3}"),t.math=t.math.replace(/\\textcircled\s*\{O\}/g,"\\unicode{x24C4}"),t.math=t.math.replace(/\\textcircled\s*\{P\}/g,"\\unicode{x24C5}"),t.math=t.math.replace(/\\textcircled\s*\{Q\}/g,"\\unicode{x24C6}"),t.math=t.math.replace(/\\textcircled\s*\{R\}/g,"\\unicode{x24C7}"),t.math=t.math.replace(/\\textcircled\s*\{S\}/g,"\\unicode{x24C8}"),t.math=t.math.replace(/\\textcircled\s*\{T\}/g,"\\unicode{x24C9}"),t.math=t.math.replace(/\\textcircled\s*\{U\}/g,"\\unicode{x24CA}"),t.math=t.math.replace(/\\textcircled\s*\{V\}/g,"\\unicode{x24CB}"),t.math=t.math.replace(/\\textcircled\s*\{W\}/g,"\\unicode{x24CC}"),t.math=t.math.replace(/\\textcircled\s*\{X\}/g,"\\unicode{x24CD}"),t.math=t.math.replace(/\\textcircled\s*\{Y\}/g,"\\unicode{x24CE}"),t.math=t.math.replace(/\\textcircled\s*\{Z\}/g,"\\unicode{x24CF}");for(var e,a=new RegExp("~#~(.*?)~#~","g");e=a.exec(t.math);){for(var i="",n=0;n!=e[1].length;n++){var o=e[1].substr(n,1);o.match(/[a-z]/)?i+="{\\small "+o.toUpperCase()+"}":i+=o}t.math=t.math.replace(/~#~.*?~#~/,i)}},t.exports={prefilterHook:e.MathJaxPrefilterHook}}(o),function(t){var e=n.exports.defaultConfig,a=o.exports,i=function(t,e){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=e[a]||{},null!==t[a]&&"object"==typeof t[a]?e[a]=i(t[a],e[a]):e[a]=t[a]);return e},r=function(t){setTimeout((function(){var e=document,a=e.getElementsByTagName("script")[0],i=e.createElement("script");t&&(i.onload=t),i.async=!0,i.src="//cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-AMS-MML_SVG.js",a.parentNode.insertBefore(i,a)}),1)},s=function(){MathJax.Hub.Register.StartupHook("TeX Jax Ready",(function(){MathJax.InputJax.TeX.prefilterHooks.Add(a.prefilterHook);var t=MathJax.ElementJax.mml,e=MathJax.InputJax.TeX;e.Definitions.macros.bfrac="myBevelFraction",e.Parse.Augment({myBevelFraction:function(e){var a=this.ParseArg(e),i=this.ParseArg(e);this.Push(t.mfrac(a,i).With({bevelled:!0}))}})}))};t.exports={loadMathJaxAsync:function(t){var a=i(t||{},e);a.AuthorInit=s,window.MathJax=a,r()},lazyLoadMathJaxAsync:function(t,a){var n=i(t||{},e);n.AuthorInit=s,n.skipStartupTypeset=!0,window.MathJax=n,r((function(){if(window.IntersectionObserver)for(var t=document.querySelectorAll(a),e=new IntersectionObserver((function(t){for(var a=0;t[a];++a)if(t[a].isIntersecting){MathJax.Hub.Queue(["Typeset",MathJax.Hub]),e.disconnect();break}}),{rootMargin:"200px 0px 200px 0px",threshold:0}),i=0;t[i];++i)e.observe(t[i]);else MathJax.Hub.Queue(["Typeset",MathJax.Hub])}))},loadMathJaxForDeferredContent:function(t,a){if(window.MathJax)MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]);else{var n=i(a||{},e);n.AuthorInit=s,window.MathJax=n,r((function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}))}}}}(i);var r=i.exports,s={exports:{}};!function(t){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function a(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function n(t){var e=t.g.offsetWidth,a=e+100;return t.j.style.width=a+"px",t.i.scrollLeft=a,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function o(t,a){function i(){var t=o;n(t)&&null!==t.g.parentNode&&a(t.l)}var o=t;e(t.h,i),e(t.i,i),n(t)}function r(t,e,a){e=e||{},a=a||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=a}var s=null,c=null,l=null,h=null;function d(t){return null===h&&(h=!!t.document.fonts),h}function u(t,e){var a=t.style,i=t.weight;if(null===l){var n=document.createElement("div");try{n.style.font="condensed 100px sans-serif"}catch(t){}l=""!==n.style.font}return[a,i,l?t.stretch:"","100px",e].join(" ")}r.prototype.load=function(t,e){var n=this,r=t||"BESbswy",l=0,h=e||3e3,m=(new Date).getTime();return new Promise((function(t,e){if(d(n.context)&&!function(t){return null===c&&(d(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!t&&603>parseInt(t[1],10)):c=!1),c}(n.context)){var p=new Promise((function(t,e){!function a(){(new Date).getTime()-m>=h?e(Error(h+"ms timeout exceeded")):n.context.document.fonts.load(u(n,'"'+n.family+'"'),r).then((function(e){1<=e.length?t():setTimeout(a,25)}),e)}()})),f=new Promise((function(t,e){l=setTimeout((function(){e(Error(h+"ms timeout exceeded"))}),h)}));Promise.race([f,p]).then((function(){clearTimeout(l),t(n)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function c(){var e;(e=-1!=g&&-1!=x||-1!=g&&-1!=b||-1!=x&&-1!=b)&&((e=g!=x&&g!=b&&x!=b)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(g==y&&x==y&&b==y||g==v&&x==v&&b==v||g==E&&x==E&&b==E)),e=!e),e&&(null!==_.parentNode&&_.parentNode.removeChild(_),clearTimeout(l),t(n))}var d=new a(r),p=new a(r),f=new a(r),g=-1,x=-1,b=-1,y=-1,v=-1,E=-1,_=document.createElement("div");_.dir="ltr",i(d,u(n,"sans-serif")),i(p,u(n,"serif")),i(f,u(n,"monospace")),_.appendChild(d.g),_.appendChild(p.g),_.appendChild(f.g),n.context.document.body.appendChild(_),y=d.g.offsetWidth,v=p.g.offsetWidth,E=f.g.offsetWidth,function t(){if((new Date).getTime()-m>=h)null!==_.parentNode&&_.parentNode.removeChild(_),e(Error(h+"ms timeout exceeded"));else{var a=n.context.document.hidden;!0!==a&&void 0!==a||(g=d.g.offsetWidth,x=p.g.offsetWidth,b=f.g.offsetWidth,c()),l=setTimeout(t,50)}}(),o(d,(function(t){g=t,c()})),i(d,u(n,'"'+n.family+'",sans-serif')),o(p,(function(t){x=t,c()})),i(p,u(n,'"'+n.family+'",serif')),o(f,(function(t){b=t,c()})),i(f,u(n,'"'+n.family+'",monospace'))}))}))},t.exports=r}()}(s);var c=s.exports;const l=t=>{const e=[];return t?(Array.prototype.forEach.call(t,(function(t){e.push(t)})),e):e},h=(t,e,a)=>{let i;if(void 0===e)throw new Error("Missing namespace in `createEvent` function");return i="function"==typeof window.CustomEvent?new CustomEvent(`${e}:${t}`,a):((t,e)=>{e=e||{bubbles:!1,cancelable:!1,detail:null};var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a})(`${e}:${t}`,a),i},d={TARGET_HIDE_CLASS:"u-js-hide",TRIGGER_OPEN_CLASS:"is-open",TRIGGER_OPEN_LABEL:void 0,CLOSE_ON_FOCUS_OUT:!0,AUTOFOCUS:null,OPEN_EVENT:!1,DEFAULT_OPEN:!1},u={TARGET_HIDE_CLASS:"data-expander-hide-class",TRIGGER_OPEN_CLASS:"data-expander-trigger-open-class",TRIGGER_OPEN_LABEL:"data-expander-trigger-open-label",CLOSE_ON_FOCUS_OUT:"data-expander-close-on-focus-out",AUTOFOCUS:"data-expander-autofocus",OPEN_EVENT:"data-expander-open-event",DEFAULT_OPEN:"data-expander-default-open"};class m{constructor(t){this._aside=t,this._form=this._aside.querySelector("form"),this._formRadioFieldset=this._form.querySelector("fieldset"),this._formRadios=Array.from(this._form.querySelectorAll('[data-customer-satisfaction-input="radio"]')),this._surveyLink=this._form.querySelector('[data-customer-satisfaction-input="survey-link"]'),this._surveyLink.href=this._getSurveyLinkHref(),this._submitButton=this._form.querySelector('button[type="submit"]'),this._submitMessage=this._form.querySelector('[data-customer-satisfaction-input="submit-message"]'),this._permissibleUserJourneys=["get prepared to publish","get published","discover relevant scholarly content","manage my editorial work","manage my peer reviews","promote my work","evaluate the performance of scholarly work","manage an apc","buy something","access what i am entitled to","librarian get the information i need","librarian assess the performance and use of my portfolio","librarian buy something"],this._bindEvents()}_getCheckedRadioValue(){return this._formRadios.find(t=>t.checked).value}_getSurveyLinkHref(){return this._surveyLink.href+"?location="+window.location.href.split("?")[0]}_getUserJourneys(){if(!this._aside.dataset.customerSatisfactionInputUserJourneys)return void console.error("Attempt to send Global Customer Satisfaction Input event failed. Value not found for User Journeys.");const t=this._aside.dataset.customerSatisfactionInputUserJourneys.split(",").map(t=>t.trim().toLowerCase());return t.every(t=>this._permissibleUserJourneys.includes(t))?t.join(","):(console.error("Attempt to send Global Customer Satisfaction Input event failed. One or more of the user journeys provided are not permissible values."),!1)}_dispatchDataLayerEvent(t){if(!window.dataLayer)return void console.error("Attempt to send Global Customer Satisfaction Input event failed. window.dataLayer does not exist.");const e=this._getUserJourneys();e&&t&&window.dataLayer.push({event:"survey.track",userJourneys:e,radioValue:t,additionalInfo:this._aside.dataset.customerSatisfactionInputAdditionalInfo||null})}_displayMessage(){this._submitButton.classList.add("u-hide"),this._formRadioFieldset.classList.add("u-hide"),this._submitMessage.classList.remove("u-hide")}_bindEvents(){this._form.addEventListener("submit",t=>{t.preventDefault(),t.stopPropagation()}),["click","keydown"].forEach(t=>{this._submitButton.addEventListener(t,t=>{if(/Enter|Space/.test(t.key)||"click"===t.type){t.preventDefault(),t.stopPropagation();if(this._validateForm())return this._dispatchDataLayerEvent(this._getCheckedRadioValue()),void this._displayMessage();this._displayError()}})})}_validateForm(){return this._formRadios.some(t=>t.checked)}_displayError(){this._form.classList.contains("c-customer-satisfaction-input--show-error")||this._form.classList.add("c-customer-satisfaction-input--show-error")}}const p=Object.freeze({DATA_COMPONENT:"data-dropdown",DROPDOWN:"c-dropdown",DROPDOWN_OPEN_MODIFIER:"c-dropdown--open",BUTTON:"c-dropdown__button",MENU:"c-dropdown__menu",ITEM:"c-dropdown__item",LINK:"c-dropdown__link"}),f={DROPDOWN:"."+p.DROPDOWN,MENU:"."+p.MENU},g={BUTTON_CLASS:"",CLICK_OUTSIDE:!0,DROPDOWN_CLASS:"",HIDE_CLASS:"u-hide",HIDE_INITIALLY:!0,MENU_POSITION:"left"},x=t=>{if(!Object.prototype.hasOwnProperty.call(t,"BUTTON_TEXT")||!Object.prototype.hasOwnProperty.call(t,"LINKS"))throw new Error("'BUTTON_TEXT' and 'LINKS' are mandatory properties");const e=Object.prototype.hasOwnProperty.call(t,"DROPDOWN_OPTIONS")?t.DROPDOWN_OPTIONS:{},a=(t=>{const e=document.createElement("button");return e.textContent=t,e.className=p.BUTTON,e.setAttribute("aria-expanded","false"),e.setAttribute("aria-haspopup","true"),e})(t.BUTTON_TEXT),i=((t,e)=>{const a=document.createElement("div");a.className=p.DROPDOWN;const i=document.createElement("ul");return i.className=p.MENU,e.forEach(t=>{if("A"!==t.tagName)throw new Error("Expected an array of links but received an array containing "+t.tagName);{const e=document.createElement("li");e.className=p.ITEM;const a=document.createElement("a");a.className=p.LINK,a.href=t.href,a.textContent=t.textContent,e.appendChild(a),i.appendChild(e)}}),a.appendChild(t),a.appendChild(i),a})(a,t.LINKS);return new class{constructor(t,e={}){if(this._options=Object.assign({},g,e),this._buttonEl=t,this._dropdownEl=this._buttonEl.closest(f.DROPDOWN),!this._dropdownEl)throw new Error("Missing c-dropdown element");if(this._menuEl=this._dropdownEl.querySelector(f.MENU),!this._menuEl)throw new Error("Missing c-menu element");if("left"!==this._options.MENU_POSITION&&"right"!==this._options.MENU_POSITION)throw new Error("MENU_POSITION must be left or right but was "+this._options.MENU_POSITION);this._isOpen=!1,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonEnter=this._handleButtonEnter.bind(this),this._handleClick=this._handleClick.bind(this),this._handleKeydown=this._handleKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this._close():this._open()}_handleButtonEnter(t){"Enter"===t.key&&(t.preventDefault(),this._isOpen?this._close():this._open())}_handleTargetOutside(t){if(t!==this._dropdownEl)do{if(t===document.body)return this._close(),void this._removeTemporaryEventHandlers();t=t.parentNode}while(t!==this._dropdownEl&&null!==t&&1===t.nodeType)}_handleKeydown(t){"Escape"===t.key&&this._isOpen&&(this._close(),this._buttonEl.focus()),"Tab"===t.key&&this._isOpen&&window.requestAnimationFrame(()=>this._handleTargetOutside(document.activeElement))}_handleClick(t){const e=t.target;this._handleTargetOutside(e)}_setupTemporaryEventHandlers(){document.addEventListener("keydown",this._handleKeydown),this._options.CLICK_OUTSIDE&&document.addEventListener("click",this._handleClick)}_removeTemporaryEventHandlers(){document.removeEventListener("keydown",this._handleKeydown),this._options.CLICK_OUTSIDE&&document.removeEventListener("click",this._handleClick)}_updateAriaAttributes(){this._isOpen?this._buttonEl.setAttribute("aria-expanded","true"):this._buttonEl.setAttribute("aria-expanded","false")}_open(){this._isOpen||(this._isOpen=!0,this._dropdownEl.classList.add(p.DROPDOWN_OPEN_MODIFIER),this._menuEl.classList.remove(this._options.HIDE_CLASS),this._updateAriaAttributes(),this._setupTemporaryEventHandlers())}_close(){this._isOpen&&(this._isOpen=!1,this._dropdownEl.classList.remove(p.DROPDOWN_OPEN_MODIFIER),this._menuEl.classList.add(this._options.HIDE_CLASS),this._updateAriaAttributes(),this._removeTemporaryEventHandlers())}init(){this._options.HIDE_INITIALLY&&this._menuEl.classList.add(this._options.HIDE_CLASS),this._options.DROPDOWN_CLASS.length>0&&(this._dropdownEl.className=this._options.DROPDOWN_CLASS),"right"===this._options.MENU_POSITION&&this._menuEl.classList.add("c-dropdown__menu--right"),this._options.BUTTON_CLASS.length>0&&this._buttonEl.classList.add(this._options.BUTTON_CLASS),this._buttonEl.addEventListener("click",this._handleButtonClick),this._buttonEl.addEventListener("keydown",this._handleButtonEnter)}}(a,e).init(),i},b=()=>{const t=document.querySelector("[data-enhanced-menu]");if(!t)return;const e=l(t.querySelectorAll("a")),a=(t=>{const e=l(t.querySelectorAll("[data-enhanced-menu-exclude]")),a=[];return e.forEach(t=>{if("A"===t.tagName)a.push(t);else{l(t.querySelectorAll("a")).forEach(t=>a.push(t))}}),a})(t),i=e.filter(t=>!a.includes(t)),n=x({BUTTON_TEXT:"Menu",LINKS:i,DROPDOWN_OPTIONS:{BUTTON_CLASS:"c-header__item",MENU_POSITION:"right"}});t.classList.add("u-hide-at-lt-lg"),n.classList.add("u-hide-at-lg"),t.parentNode.insertBefore(n,t.nextSibling)};var y={exports:{}};!function(t){t.exports=function(){return{init:function(t){const e=document.createElement("script");function a(t){return null!=(e=t)&&""!==e&&0!==e?{listType:"playlist",list:t,index:0,autoplay:0}:{autoplay:0};var e}e.setAttribute("async",!0),e.setAttribute("src","https://www.youtube.com/iframe_api"),e.addEventListener("load",()=>{window.YT.ready((function(){t.forEach((function(t){var e=t.getAttribute("data-youtube-id"),i="player-"+e,n=t.dataset.componentYoutubeVideoPlaylist;new window.YT.Player(i,{height:"390",width:"640",videoId:n?null:e,playerVars:a(n),events:{onStateChange:function(t){!function(t,e){t.data==YT.PlayerState.ENDED&&window.dataLayer.push({event:"youtube-api-video",eventAction:"complete video",eventLabel:e}),t.data==YT.PlayerState.PLAYING&&window.dataLayer.push({event:"youtube-api-video",eventAction:"play video",eventLabel:e}),t.data==YT.PlayerState.PAUSED&&window.dataLayer.push({event:"youtube-api-video",eventAction:"pause video",eventLabel:e})}(t,n||e)}}})}))}))}),document.head.appendChild(e)}}}}(y);var v=y.exports;const E=t=>{t.forEach(t=>{t.style.cssText="position: relative; background: #efefef; border: 1px solid #ccc; width: 100%; height: auto; aspect-ratio: 16/9;"});(new v).init(t)},_=(t,e)=>{const a=(()=>{const t=window.location.href,e=t.includes("-cm10"),a=t.includes("/preview/");return e&&a})();if(e.C03||a)E(t);else{t.forEach(t=>{t.style.cssText="position: relative; background: #efefef; border: 1px solid #ccc; width: 100%; height: auto;";const e=(()=>{const t=document.createElement("p");t.style.cssText="padding: 40px; margin: 0",t.classList.add("app-video-privacy-warning"),t.setAttribute("data-video-consent-warning","");const e=document.createElement("button");return e.className="u-serif",e.style.cssText="padding: 0; border: 0; background: none; text-decoration: underline; text-align: left;",e.setAttribute("data-cc-action","preferences"),e.textContent="update your preferences here",t.textContent="This YouTube video cannot be played due to your privacy choices. Please ",t.appendChild(e),t.append(' by accepting “Cookies that help with our communications and marketing".'),t})();t.appendChild(e)});const e=a=>{a.detail.C03&&(document.querySelectorAll("[data-video-consent-warning]").forEach(t=>{t.style="display: none"}),E(t),document.removeEventListener("sncc:update",e))};document.addEventListener("sncc:update",e)}},w=()=>{const t=document.querySelectorAll("[data-video]");if(0===t.length)return;const e=[],a=[];let i;window.sncc&&(i=window.sncc.consent),t.forEach(t=>{const i=t.getAttribute("data-video");if(0===i.length)return;const n=i.includes("youtube");if(n){const e=i.split("youtube.com/embed/")[1];t.setAttribute("data-youtube-id",e),t.setAttribute("id","player-"+e)}n?e.push(t):a.push(t)}),e.length>0&&_(e,i()),a.length>0&&(t=>{t.forEach(t=>{const e=t.getAttribute("data-video"),a=document.createElement("script");a.type="text/javascript",a.src=e,t.appendChild(a)})})(a)},A=t=>{let e=!1;return window.sncc=window.sncc||[],void 0!==window.sncc.consent&&(e=window.sncc.consent(t)),e},O=(t,e)=>{const a=t.querySelector(".c-twitter-timeline__warning");e?a.classList.add("u-hide"):a.classList.remove("u-hide")},T=t=>{const e=A("C03");Array.prototype.forEach.call(t,t=>{var a;t.appendChild((()=>{const t=document.createElement("p");return t.className="c-twitter-timeline__warning",t.textContent="This Twitter Timeline cannot be shown as you have not consented to Third Party Targeting cookies",t})()),O(t,e),a=()=>{const a=A("C03");a!==e&&O(t,a)},document.addEventListener("sncc:update",a)})};function C(t){return new Promise((function(e,a){function i(o,r){try{var s=t[r?"throw":"next"](o)}catch(t){return void a(t)}s.done?e(s.value):Promise.resolve(s.value).then(i,n)}function n(t){i(t,1)}i()}))}const S=Object.freeze({DATA_COMPONENT:"data-dropdown",DROPDOWN:"c-dropdown",DROPDOWN_OPEN_MODIFIER:"c-dropdown--open",BUTTON:"c-dropdown__button",MENU:"c-dropdown__menu",ITEM:"c-dropdown__item",LINK:"c-dropdown__link"}),L={DROPDOWN:"."+S.DROPDOWN,MENU:"."+S.MENU},D={BUTTON_CLASS:"",CLICK_OUTSIDE:!0,DROPDOWN_CLASS:"",HIDE_CLASS:"u-hide",HIDE_INITIALLY:!0,MENU_POSITION:"left"},N=t=>{if(!Object.prototype.hasOwnProperty.call(t,"BUTTON_TEXT")||!Object.prototype.hasOwnProperty.call(t,"LINKS"))throw new Error("'BUTTON_TEXT' and 'LINKS' are mandatory properties");const e=Object.prototype.hasOwnProperty.call(t,"DROPDOWN_OPTIONS")?t.DROPDOWN_OPTIONS:{},a=(t=>{const e=document.createElement("button");return e.textContent=t,e.className=S.BUTTON,e.setAttribute("aria-expanded","false"),e.setAttribute("aria-haspopup","true"),e})(t.BUTTON_TEXT),i=((t,e)=>{const a=document.createElement("div");a.className=S.DROPDOWN;const i=document.createElement("ul");return i.className=S.MENU,e.forEach(t=>{if("A"!==t.tagName)throw new Error("Expected an array of links but received an array containing "+t.tagName);{const e=document.createElement("li");e.className=S.ITEM;const a=document.createElement("a");a.className=S.LINK,a.href=t.href,a.textContent=t.textContent,e.appendChild(a),i.appendChild(e)}}),a.appendChild(t),a.appendChild(i),a})(a,t.LINKS);return new class{constructor(t,e={}){if(this._options=Object.assign({},D,e),this._buttonEl=t,this._dropdownEl=this._buttonEl.closest(L.DROPDOWN),!this._dropdownEl)throw new Error("Missing c-dropdown element");if(this._menuEl=this._dropdownEl.querySelector(L.MENU),!this._menuEl)throw new Error("Missing c-menu element");if("left"!==this._options.MENU_POSITION&&"right"!==this._options.MENU_POSITION)throw new Error("MENU_POSITION must be left or right but was "+this._options.MENU_POSITION);this._isOpen=!1,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonEnter=this._handleButtonEnter.bind(this),this._handleClick=this._handleClick.bind(this),this._handleKeydown=this._handleKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this._close():this._open()}_handleButtonEnter(t){"Enter"===t.key&&(t.preventDefault(),this._isOpen?this._close():this._open())}_handleTargetOutside(t){if(t!==this._dropdownEl)do{if(t===document.body)return this._close(),void this._removeTemporaryEventHandlers();t=t.parentNode}while(t!==this._dropdownEl&&null!==t&&1===t.nodeType)}_handleKeydown(t){"Escape"===t.key&&this._isOpen&&(this._close(),this._buttonEl.focus()),"Tab"===t.key&&this._isOpen&&window.requestAnimationFrame(()=>this._handleTargetOutside(document.activeElement))}_handleClick(t){const e=t.target;this._handleTargetOutside(e)}_setupTemporaryEventHandlers(){document.addEventListener("keydown",this._handleKeydown),this._options.CLICK_OUTSIDE&&document.addEventListener("click",this._handleClick)}_removeTemporaryEventHandlers(){document.removeEventListener("keydown",this._handleKeydown),this._options.CLICK_OUTSIDE&&document.removeEventListener("click",this._handleClick)}_updateAriaAttributes(){this._isOpen?this._buttonEl.setAttribute("aria-expanded","true"):this._buttonEl.setAttribute("aria-expanded","false")}_open(){this._isOpen||(this._isOpen=!0,this._dropdownEl.classList.add(S.DROPDOWN_OPEN_MODIFIER),this._menuEl.classList.remove(this._options.HIDE_CLASS),this._updateAriaAttributes(),this._setupTemporaryEventHandlers())}_close(){this._isOpen&&(this._isOpen=!1,this._dropdownEl.classList.remove(S.DROPDOWN_OPEN_MODIFIER),this._menuEl.classList.add(this._options.HIDE_CLASS),this._updateAriaAttributes(),this._removeTemporaryEventHandlers())}init(){this._options.HIDE_INITIALLY&&this._menuEl.classList.add(this._options.HIDE_CLASS),this._options.DROPDOWN_CLASS.length>0&&(this._dropdownEl.className=this._options.DROPDOWN_CLASS),"right"===this._options.MENU_POSITION&&this._menuEl.classList.add("c-dropdown__menu--right"),this._options.BUTTON_CLASS.length>0&&this._buttonEl.classList.add(this._options.BUTTON_CLASS),this._buttonEl.addEventListener("click",this._handleButtonClick),this._buttonEl.addEventListener("keydown",this._handleButtonEnter)}}(a,e).init(),i},k=t=>{const e=[{text:"My account",url:"/account"},{text:"Logout",url:"/logout"}].map(t=>{const e=document.createElement("a");return e.textContent=t.text,e.href=t.url,e});return N({BUTTON_TEXT:t,LINKS:e,DROPDOWN_OPTIONS:{BUTTON_CLASS:"c-header__item",MENU_POSITION:"right"}})},I=()=>C(function*(){const t=document.querySelector("[data-enhanced-account]");if(!t)return;const e=document.cookie.includes("OSCAR_SESSION_COOKIE"),a=null!==document.querySelector("[data-enhanced-account-update]");let i,n=null;try{n=window.sessionStorage.getItem("username")}catch(t){}if(e)if(n&&!a)i=k(n);else{const t=yield C(function*(){try{const t=yield fetch("/placeholder/v1/username?cache-buster="+Math.random(),{credentials:"include",headers:{"Cache-Control":"no-cache, no-store"}});if(t.status<200||t.status>299)return;return 204!==t.status&&(yield t.json())}catch(t){console.error("Error fetching account data")}}());if(!t)return;i=k(t.username);try{window.sessionStorage.setItem("username",t.username)}catch(t){}}else{if(n)try{window.sessionStorage.removeItem("username")}catch(t){}i=(()=>{const t=document.createElement("a");return t.textContent="Login",t.href="/login",t.className="c-header__link",t})()}t.parentNode.insertBefore(i,t.nextSibling),t.remove()}());function P(t,e){document.addEventListener("click",({target:a})=>{t.trim().split(" ").every(t=>function(t,e){if(t.parentNode&&t.parentNode!==document.body&&t!==document.body&&t.parentNode!==document.head&&t!==document.head&&t.parentNode!==document.documentElement&&t!==document.documentElement&&t.parentNode instanceof HTMLElement&&t instanceof HTMLElement)return t.closest&&!t.closest(e)}(a,t))&&e(a)})}function M(t,e,a){R(t,a),e.forEach(t=>{R(t,a),window.sticky&&window.sticky.update()})}function R(t,e){e?(t.classList.add("is-shown"),t.setAttribute("aria-expanded","true")):(t.classList.remove("is-shown"),t.setAttribute("aria-expanded","false"))}function B(t){const e=t.getAttribute("data-target").split(" "),a=[];let i='[data-toggle="collapse"] ';e.forEach(t=>{a.push(document.querySelector("#"+t)),i+=`#${t} `}),a&&(!function(t,e){t.addEventListener("click",a=>{const i="true"===t.getAttribute("aria-expanded");(a.target!==t&&"A"!==a.target.nodeName||a.target===t&&"A"===a.target.nodeName)&&a.preventDefault(),a.target===document.body&&a.target===document.head&&a.target===document.documentElement&&a.target instanceof HTMLElement!=!0&&10===a.target.nodeType||M(t,e,!i)})}(t,a),t.hasAttribute("data-toggle-disable-clickoff")||P(i,()=>{M(t,a)}))}const F={listType:"OL",listItemType:"LI",noResultsMessage:"No results. Try searching again"},q={list:[],elements:{},init(){this.elements.filterInput=document.querySelector("[data-filter]"),this.elements.filterInput&&(this.list=[],this.elements.list=document.querySelector("#"+this.elements.filterInput.getAttribute("data-filter")),this._buildList(this.list,this.elements.list),this._bindEventHandlers())},_bindEventHandlers(){const t=this._filter.bind(this);this.elements.filterInput.addEventListener("keyup",t)},_filter(){const t=0===this.elements.filterInput.value.length,e=[];this._showHideIgnoredElements(t),this._showHideListItems(t),this._search(this.list,this.elements.filterInput.value,e),this._revealMatches(e)},_search(t,e,a){const i=this,n=e.toLowerCase();t.forEach(t=>{const e=Object.keys(t).filter(e=>"string"==typeof t[e]).reduce((e,a)=>Object.assign(e,{[a]:t[a]}),{});for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(i._isMatch(e,o,n,a)&&Object.prototype.hasOwnProperty.call(t,"_el")){a.push(t._el);break}}const o=Object.keys(t).filter(e=>Array.isArray(t[e])).reduce((e,a)=>Object.assign(e,{[a]:t[a]}),{});for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)){const e=o[t];i._search(e,n,a)}})},_buildList(t,e){const a=this,i=this._getListItems(e);Array.prototype.forEach.call(i,e=>{const i={};a._addFilterablePropertyToObject(e,i),a._addFilterableChildPropertiesToObject(e,i),i._el=e;const n=e.querySelector(F.listType.toLowerCase());if(n){const t=n.getAttribute("data-filterable");i[t]=[],a._buildList(i[t],n)}t.push(i)})},_revealMatches(t){const e=this;this._showHideNoResultsMessage(t),t.forEach(t=>{t.style.display="block";let a=t;for(;a&&a!==e.elements.list;)a.tagName===F.listItemType.toUpperCase()&&(a.style.display="block"),a=a.parentNode;[...t.querySelectorAll(F.listItemType.toLowerCase())].forEach(t=>{t.style.display="block"})})},_isMatch:(t,e,a,i)=>t[e].toLowerCase().includes(a)&&!i.includes(t._el),_showHideIgnoredElements(t){[...document.querySelectorAll("[data-filter-ignore]")].forEach(e=>{!1===t?e.classList.add("u-isHidden"):e.classList.remove("u-isHidden")})},_showHideListItems(t){[...this.elements.list.querySelectorAll(F.listItemType.toLowerCase())].forEach(e=>{t?e.getAttribute("data-filter-ignore")||(e.style.display="block",e.classList.remove("is-shown")):e.getAttribute("data-filter-ignore")||(e.style.display="none",e.classList.add("is-shown"))})},_getListItems:t=>Array.from(t.childNodes).filter(t=>1===t.nodeType&&!t.getAttribute("data-filter-ignore")),_addFilterableChildPropertiesToObject(t,e){const a=this,i=Array.from(t.childNodes).filter(t=>1===t.nodeType&&t.tagName!==F.listType.toUpperCase());Array.prototype.forEach.call(i,t=>{t.getAttribute("data-filterable")&&a._addFilterablePropertyToObject(t,e);const i=t.querySelectorAll("[data-filterable]");Array.prototype.forEach.call(i,t=>{a._addFilterablePropertyToObject(t,e)})})},_addFilterablePropertyToObject(t,e){const a=t.getAttribute("data-filterable");a&&(e[a]=t.textContent)},_showHideNoResultsMessage(t){let e=document.querySelector("[data-filter-no-results]");0===t.length?e?e.style.display="":(e=document.createElement("p"),e.dataset.filterNoResults="true",e.textContent=F.noResultsMessage,e.classList.add("message-filter"),this.elements.list.parentNode.insertBefore(e,this.elements.list)):null!==e&&(e.style.display="none")}};function U(t,{list:e,input:a,activeClass:i,filter:n,chosen:o,openClass:r,select:s}){const c=t.textContent,l=a;o.firstChild.textContent=c,n.classList.toggle(r),o.classList.toggle(i),function(t,e){[...e.querySelectorAll("option")].forEach(e=>{t.getAttribute("value")===e.getAttribute("value")&&e.setAttribute("selected","selected")})}(t,s),l.value&&(l.value=null,function(t){[...t.children].forEach(t=>{t.style.display="none"})}(e)),o.focus()}function H(t,e){return!(function(t,e){return t.offsetTop>=e.scrollTop}(t,e)&&function(t,e){return t.offsetTop<=e.scrollTop+(e.offsetHeight-t.offsetHeight)}(t,e))}function j(t,e){const a=e;t.offsetTop>a.offsetHeight-t.offsetHeight&&H(t,a)&&(a.scrollTop=t.offsetTop-a.offsetHeight+t.offsetHeight)}function z(t,e){const a=e;t.offsetTop<a.scrollTop&&H(t,a)&&(a.scrollTop=t.offsetTop)}function $(t){const e=t.getAttribute("data-src");return(a=e,new Promise((t,e)=>{const i=new Image;i.src=a,i.addEventListener("load",()=>t()),i.addEventListener("error",()=>e())})).then(()=>{const a=t;t.classList.add("c-lazy-image--loaded"),a.src=e});var a}const W={replace:{},append:{}};function Y(t){const e=[];[...t.childNodes].forEach(t=>{(function(t){return t.nodeName&&"script"===t.nodeName.toLowerCase()&&(!t.type||"text/javascript"===t.type.toLowerCase())})(t)&&e.push(t.parentNode?t.parentNode.removeChild(t):t)}),e.forEach(t=>{!function(t){const e=document.querySelectorAll("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript",a.append(document.createTextNode(t)),e.insertBefore(a,e.firstChild),a.remove()}(function(t){return t.text||t.textContent||t.innerHTML||""}(t)),t.parentNode&&t.remove()})}function K(t,e,a,i){return C(function*(){const n=yield fetch(e,{credentials:"include"});if((o=n.status)<300&&204!==o){const e=yield n.text();!function(t,e,a,i){const n=document.createDocumentFragment();n.appendChild(document.createElement("div")).innerHTML=e;const o=n.querySelector(a);if(o)if(i===W.replace){const e=t.parentElement;for(;o.childNodes.length>0;)e.insertBefore(o.childNodes[0],t);Y(t),t.remove()}else{for(;o.childNodes.length>0;)t.append(o.childNodes[0]);Y(t)}n.innerHtml=""}(t,e,a,i)}var o}())}const J={replace:()=>C(function*(){const t=[...document.querySelectorAll("[data-placeholder]")].map(t=>function(t){return C(function*(){const e=t.hasAttribute("data-placeholder")&&t.getAttribute("data-placeholder");if(e){let a=e,i="div";const n=e.indexOf(" ");n>0&&(a=e.slice(0,Math.max(0,n)),i=e.slice(Math.max(0,n+1)));const o=t.hasAttribute("data-replace")?W.replace:W.append;yield K(t,a,i,o)}}())}(t));yield Promise.all(t)}())};function V(t){let e;return(...a)=>{null==e&&(e=requestAnimationFrame(((a,i)=>()=>{e=null,t.apply(a,i)})(this,a)))}}const X='[data-component="search-institution"]';let G;function Z(t,e){return C(function*(){const a="/grid/?query="+encodeURIComponent(t);let i;try{i=yield fetch(a,{headers:{accept:"application/json; version=2"}})}catch(t){return}if(200!==i.status)return;const n=yield i.json();Array.isArray(n)&&function(t,e){tt(e);const a=document.createElement("div");a.classList.add(G+"__content"),a.dataset.component="search-institution-results",e.append(a);const i=e.querySelector("input[type=text]");if(i.classList.add("form__control--dropdown-attached"),i.setAttribute("aria-expanded","true"),t.length>0){const i=function(t){const e=document.createElement("ol");return e.classList.add(G+"__results"),e.setAttribute("role","list-box"),t.forEach(t=>{const a=document.createElement("li");a.classList.add(G+"__item"),a.setAttribute("tabindex",-1),a.setAttribute("role","option"),a.dataset.id=t.id,a.textContent=t.name,e.append(a)}),e}(t);a.append(i),function(t,e){const a=t.querySelectorAll("li");if(0===a.length)return;const i=e.querySelector("input[type=text]");i.addEventListener("keydown",t=>{"Escape"===t.key?(tt(e),i.focus()):"Tab"===t.key?tt(e):"ArrowDown"===t.key&&a[0].focus()}),[...a].forEach(t=>{t.addEventListener("mouseover",()=>t.focus()),t.addEventListener("mouseout",()=>t.blur()),t.addEventListener("click",()=>{Q(t.textContent,t.dataset.id,i,e),tt(e)}),t.addEventListener("keydown",a=>{a.preventDefault(),"ArrowDown"===a.key&&t.nextElementSibling?t.nextElementSibling.focus():"ArrowUp"===a.key?t.previousElementSibling?t.previousElementSibling.focus():i.focus():"Enter"===a.key||"Tab"===a.key?(Q(t.textContent,t.dataset.id,i,e),tt(e)):"Escape"===a.key&&(tt(e),i.focus())})})}(i,e)}else{const t=document.createElement("p");t.classList.add(G+"__message"),t.textContent="Sorry, we couldn't find any institutions that match your query",a.append(t)}}(n,e)}())}function Q(t,e,a,i){const n=a;n.value=t,n.focus();i.querySelector("input[type=hidden]").value=e}function tt(t){const e=t.querySelector('[data-component="search-institution-results"]');if(e){e.remove();const a=t.querySelector("input[type=text]");a.classList.remove("form__control--dropdown-attached"),a.setAttribute("aria-expanded","false")}}const et={init(){const t=this;[...document.querySelectorAll('[data-toggle="tab"]')].forEach(e=>{e.addEventListener("click",a=>{a.preventDefault(),t.switchTabs(e)},!1)})},switchTabs(t){t.classList.contains("is-active")||(this.removeActiveClasses(t),this.addActiveClass(t))},removeActiveClasses(t){const e=this.getTabsEl(t).querySelectorAll(".is-active");for(const t of e)t.classList.remove("is-active")},getTabsEl(t){for(;t.parentNode&&!t.getAttribute("data-tabs");)t=t.parentNode;return t},addActiveClass(t){t.classList.add("is-active");const e=t.getAttribute("href").split("#");if(e.length>1){const t=e[1];document.querySelector("#"+t).classList.add("is-active")}}};
/*! tether 2.0.0 */function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return"string"==typeof t}function ot(t){return void 0===t}function rt(t,e){e.split(" ").forEach((function(e){e.trim()&&t.classList.add(e)}))}function st(t,e,a){return void 0===t&&(t=""),ot(e)||ot(e[t])?a?a+"-"+t:t:!1===e[t]?"":e[t]}function ct(t,e){e.split(" ").forEach((function(e){e.trim()&&t.classList.remove(e)}))}function lt(t,e,a){a.forEach((function(a){-1===e.indexOf(a)&&t.classList.contains(a)&&ct(t,a)})),e.forEach((function(e){t.classList.contains(e)||rt(t,e)}))}var ht=[];function dt(t){ht.push(t)}function ut(){for(var t;t=ht.pop();)t()}var mt=null;function pt(t){void 0===t&&(t={});var e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach((function(e){if(e)for(var a in e)({}).hasOwnProperty.call(e,a)&&(t[a]=e[a])})),t}function ft(){if(mt)return mt;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");pt(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var a=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;a===i&&(i=e.clientWidth),document.body.removeChild(e);var n=a-i;return mt={width:n,height:n}}var gt,xt=(gt=0,function(){return++gt}),bt={},yt=null;function vt(t,e){var a;e===document?(a=document,e=document.documentElement):a=e.ownerDocument;var i=a.documentElement,n=Et(e),o=function(t){var e=yt;e&&t.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",xt()),pt(e.style,{top:0,left:0,position:"absolute"}),t.appendChild(e),yt=e);var a=e.getAttribute("data-tether-id");ot(bt[a])&&(bt[a]=Et(e),dt((function(){delete bt[a]})));return bt[a]}(t);return n.top-=o.top,n.left-=o.left,ot(n.width)&&(n.width=document.body.scrollWidth-n.left-n.right),ot(n.height)&&(n.height=document.body.scrollHeight-n.top-n.bottom),n.top=n.top-i.clientTop,n.left=n.left-i.clientLeft,n.right=a.body.clientWidth-n.width-n.left,n.bottom=a.body.clientHeight-n.height-n.top,n}function Et(t){var e=t.getBoundingClientRect(),a={};for(var i in e)a[i]=e[i];try{if(t.ownerDocument!==document){var n=t.ownerDocument.defaultView.frameElement;if(n){var o=Et(n);a.top+=o.top,a.bottom+=o.top,a.left+=o.left,a.right+=o.left}}}catch(t){}return a}var _t={position:function(t){var e=this,a=t.top,i=t.left,n=this.cache("element-bounds",(function(){return vt(e.element)})),o=n.height,r=n.width,s=this.getTargetBounds(),c=a+o,l=i+r,h=[];a<=s.bottom&&c>=s.top&&["left","right"].forEach((function(t){var e=s[t];e!==i&&e!==l||h.push(t)})),i<=s.right&&l>=s.left&&["top","bottom"].forEach((function(t){var e=s[t];e!==a&&e!==c||h.push(t)}));var d=this.options,u=d.classes,m=d.classPrefix;return this.all.push(st("abutted",u,m)),["left","top","right","bottom"].forEach((function(t){e.all.push(st("abutted",u,m)+"-"+t)})),h.length&&this.add.push(st("abutted",u,m)),h.forEach((function(t){e.add.push(st("abutted",u,m)+"-"+t)})),dt((function(){!1!==e.options.addTargetClasses&&lt(e.target,e.add,e.all),lt(e.element,e.add,e.all)})),!0}},wt=["left","top","right","bottom"];var At={position:function(t){var e=this,a=t.top,i=t.left,n=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",(function(){return vt(e.bodyElement,e.element)})),r=o.height,s=o.width;if(0===s&&0===r&&!ot(this.lastSize)){var c=this.lastSize;s=c.width,r=c.height}var l=this.cache("target-bounds",(function(){return e.getTargetBounds()})),h=l.height,d=l.width,u=this.options,m=u.classes,p=u.classPrefix,f=function(t,e,a){var i=[st("pinned",t,e),st("out-of-bounds",t,e)];return a.forEach((function(t){var e=t.outOfBoundsClass,a=t.pinnedClass;e&&i.push(e),a&&i.push(a)})),i.forEach((function(t){["left","top","right","bottom"].forEach((function(e){i.push(t+"-"+e)}))})),i}(m,p,this.options.constraints),g=[],x=pt({},n),b=pt({},this.attachment);return this.options.constraints.forEach((function(t){var o,c,l=t.to,u=t.attachment,f=t.pin;if(ot(u)&&(u=""),u.indexOf(" ")>=0){var y=u.split(" ");c=y[0],o=y[1]}else o=c=u;var v=function(t,e,a){if(!a)return null;if("scrollParent"===a?a=e.scrollParents[0]:"window"===a&&(a=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),a===document&&(a=a.documentElement),!ot(a.nodeType)){var i=a,n=vt(t,a),o=n,r=getComputedStyle(a);if(a=[o.left,o.top,n.width+o.left,n.height+o.top],i.ownerDocument!==document){var s=i.ownerDocument.defaultView;a[0]+=s.pageXOffset,a[1]+=s.pageYOffset,a[2]+=s.pageXOffset,a[3]+=s.pageYOffset}wt.forEach((function(t,e){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?a[e]+=parseFloat(r["border"+t+"Width"]):a[e]-=parseFloat(r["border"+t+"Width"])}))}return a}(e.bodyElement,e,l);"target"!==c&&"both"!==c||(a<v[1]&&"top"===x.top&&(a+=h,x.top="bottom"),a+r>v[3]&&"bottom"===x.top&&(a-=h,x.top="top")),"together"===c&&(a=function(t,e,a,i,n,o){return"top"===t.top&&("bottom"===e.top&&o<a[1]?(o+=n,t.top="bottom",o+=i,e.top="top"):"top"===e.top&&o+i>a[3]&&o-(i-n)>=a[1]&&(o-=i-n,t.top="bottom",e.top="bottom")),"bottom"===t.top&&("top"===e.top&&o+i>a[3]?(o-=n,t.top="top",o-=i,e.top="bottom"):"bottom"===e.top&&o<a[1]&&o+(2*i-n)<=a[3]&&(o+=i-n,t.top="top",e.top="top")),"middle"===t.top&&(o+i>a[3]&&"top"===e.top?(o-=i,e.top="bottom"):o<a[1]&&"bottom"===e.top&&(o+=i,e.top="top")),o}(x,b,v,r,h,a)),"target"!==o&&"both"!==o||(i<v[0]&&"left"===x.left&&(i+=d,x.left="right"),i+s>v[2]&&"right"===x.left&&(i-=d,x.left="left")),"together"===o&&(i=function(t,e,a,i,n,o){return o<a[0]&&"left"===t.left?"right"===e.left?(o+=n,t.left="right",o+=i,e.left="left"):"left"===e.left&&(o+=n,t.left="right",o-=i,e.left="right"):o+i>a[2]&&"right"===t.left?"left"===e.left?(o-=n,t.left="left",o-=i,e.left="right"):"right"===e.left&&(o-=n,t.left="left",o+=i,e.left="left"):"center"===t.left&&(o+i>a[2]&&"left"===e.left?(o-=i,e.left="right"):o<a[0]&&"right"===e.left&&(o+=i,e.left="left")),o}(x,b,v,s,d,i)),"element"!==c&&"both"!==c||(a<v[1]&&"bottom"===b.top&&(a+=r,b.top="top"),a+r>v[3]&&"top"===b.top&&(a-=r,b.top="bottom")),"element"!==o&&"both"!==o||(i<v[0]&&("right"===b.left?(i+=s,b.left="left"):"center"===b.left&&(i+=s/2,b.left="left")),i+s>v[2]&&("left"===b.left?(i-=s,b.left="right"):"center"===b.left&&(i-=s/2,b.left="right"))),nt(f)?f=f.split(",").map((function(t){return t.trim()})):!0===f&&(f=["top","left","right","bottom"]);var E,_=[],w=[];(i=function(t,e,a,i,n,o){return t<e[0]&&(i.indexOf("left")>=0?(t=e[0],n.push("left")):o.push("left")),t+a>e[2]&&(i.indexOf("right")>=0?(t=e[2]-a,n.push("right")):o.push("right")),t}(i,v,s,f=f||[],_,w),a=function(t,e,a,i,n,o){return t<e[1]&&(i.indexOf("top")>=0?(t=e[1],n.push("top")):o.push("top")),t+a>e[3]&&(i.indexOf("bottom")>=0?(t=e[3]-a,n.push("bottom")):o.push("bottom")),t}(a,v,r,f,_,w),_.length)&&(E=ot(e.options.pinnedClass)?st("pinned",m,p):e.options.pinnedClass,g.push(E),_.forEach((function(t){g.push(E+"-"+t)})));!function(t,e,a,i,n){var o;t.length&&(o=ot(n)?st("out-of-bounds",a,i):n,e.push(o),t.forEach((function(t){e.push(o+"-"+t)})))}(w,g,m,p,e.options.outOfBoundsClass),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(b.left=x.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(b.top=x.top=!1),x.top===n.top&&x.left===n.left&&b.top===e.attachment.top&&b.left===e.attachment.left||(e.updateAttachClasses(b,x),e.trigger("update",{attachment:b,targetAttachment:x}))})),dt((function(){!1!==e.options.addTargetClasses&&lt(e.target,g,f),lt(e.element,g,f)})),{top:a,left:i}}},Ot={position:function(t){var e=t.top,a=t.left;if(this.options.shift){var i,n,o=this.options.shift;if("function"==typeof o&&(o=o.call(this,{top:e,left:a})),nt(o)){(o=o.split(" "))[1]=o[1]||o[0];var r=o;i=r[0],n=r[1],i=parseFloat(i,10),n=parseFloat(n,10)}else{var s=[o.top,o.left];i=s[0],n=s[1]}return{top:e+=i,left:a+=n}}}},Tt=function(){function t(){}var e=t.prototype;return e.on=function(t,e,a,i){return void 0===i&&(i=!1),ot(this.bindings)&&(this.bindings={}),ot(this.bindings[t])&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:a,once:i}),this},e.once=function(t,e,a){return this.on(t,e,a,!0)},e.off=function(t,e){var a=this;return ot(this.bindings)||ot(this.bindings[t])||(ot(e)?delete this.bindings[t]:this.bindings[t].forEach((function(i,n){i.handler===e&&a.bindings[t].splice(n,1)}))),this},e.trigger=function(t){for(var e=this,a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return!ot(this.bindings)&&this.bindings[t]&&this.bindings[t].forEach((function(a,n){var o=a.ctx,r=a.handler,s=a.once,c=o||e;r.apply(c,i),s&&e.bindings[t].splice(n,1)})),this},t}(),Ct={center:"center",left:"right",right:"left"},St={middle:"middle",top:"bottom",bottom:"top"},Lt={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"};function Dt(){for(var t={top:0,left:0},e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return a.forEach((function(e){var a=e.top,i=e.left;nt(a)&&(a=parseFloat(a)),nt(i)&&(i=parseFloat(i)),t.top+=a,t.left+=i})),t}function Nt(t){var e=t.left,a=t.top;return ot(Lt[t.left])||(e=Lt[t.left]),ot(Lt[t.top])||(a=Lt[t.top]),{left:e,top:a}}function kt(t,e){return nt(t.left)&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left)/100*e.width),nt(t.top)&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top)/100*e.height),t}function It(t){var e=t.split(" ");return{top:e[0],left:e[1]}}function Pt(t){return t.offsetParent||document.documentElement}var Mt={modules:[At,_t,Ot]};var Rt,Bt,Ft,qt,Ut=function(){if(ot(document))return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],a=0;a<e.length;++a){var i=e[a];if(void 0!==t.style[i])return i}}(),Ht=[],jt=function(){Ht.forEach((function(t){t.position(!1)})),ut()};function zt(){return performance.now()}Rt=null,Bt=null,Ft=null,qt=function t(){if(!ot(Bt)&&Bt>16)return Bt=Math.min(Bt-16,250),void(Ft=setTimeout(t,250));!ot(Rt)&&zt()-Rt<10||(null!=Ft&&(clearTimeout(Ft),Ft=null),Rt=zt(),jt(),Bt=zt()-Rt)},ot(window)||ot(window.addEventListener)||["resize","scroll","touchmove"].forEach((function(t){window.addEventListener(t,qt)}));var $t=function(t){var e,a;function i(e){var a;return(a=t.call(this)||this).position=a.position.bind(it(a)),Ht.push(it(a)),a.history=[],a.setOptions(e,!1),Mt.modules.forEach((function(t){ot(t.initialize)||t.initialize.call(it(a))})),a.position(),a}a=t,(e=i).prototype=Object.create(a.prototype),e.prototype.constructor=e,at(e,a);var n=i.prototype;return n.setOptions=function(t,e){var a=this;void 0===e&&(e=!0);var i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether",bodyElement:document.body};this.options=pt(i,t);var n=this.options,o=n.element,r=n.target,s=n.targetModifier,c=n.bodyElement;if(this.element=o,this.target=r,this.targetModifier=s,"string"==typeof c&&(c=document.querySelector(c)),this.bodyElement=c,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach((function(t){if(ot(a[t]))throw new Error("Tether Error: Both element and target must be defined");ot(a[t].jquery)?nt(a[t])&&(a[t]=document.querySelector(a[t])):a[t]=a[t][0]})),this._addClasses(),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=It(this.options.targetAttachment),this.attachment=It(this.options.attachment),this.offset=It(this.options.offset),this.targetOffset=It(this.options.targetOffset),ot(this.scrollParents)||this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=function(t){var e=(getComputedStyle(t)||{}).position,a=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var n=void 0;try{n=getComputedStyle(i)}catch(t){}if(ot(n)||null===n)return a.push(i),a;var o=n,r=o.overflow,s=o.overflowX,c=o.overflowY;/(auto|scroll|overlay)/.test(r+c+s)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(n.position)>=0)&&a.push(i)}return a.push(t.ownerDocument.body),t.ownerDocument!==document&&a.push(t.ownerDocument.defaultView),a}(this.target),!1!==this.options.enabled&&this.enable(e)},n.getTargetBounds=function(){return ot(this.targetModifier)?vt(this.bodyElement,this.target):"visible"===this.targetModifier?function(t,e){if(e===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var a=vt(t,e),i={height:a.height,width:a.width,top:a.top,left:a.left};return i.height=Math.min(i.height,a.height-(pageYOffset-a.top)),i.height=Math.min(i.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,a.width-(pageXOffset-a.left)),i.width=Math.min(i.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i}(this.bodyElement,this.target):"scroll-handle"===this.targetModifier?function(t,e){var a,i=e.scrollTop,n=e===document.body;n?(e=document.documentElement,a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):a=vt(t,e);var o=getComputedStyle(e),r=0;(e.scrollWidth>e.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||!n)&&(r=15);var s=a.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-r,c={width:15,height:.975*s*(s/e.scrollHeight),left:a.left+a.width-parseFloat(o.borderLeftWidth)-15},l=0;s<408&&n&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),n||(c.height=Math.max(c.height,24));var h=i/(e.scrollHeight-s);return c.top=h*(s-c.height-l)+a.top+parseFloat(o.borderTopWidth),n&&(c.height=Math.max(c.height,24)),c}(this.bodyElement,this.target):void 0},n.clearCache=function(){this._cache={}},n.cache=function(t,e){return ot(this._cache)&&(this._cache={}),ot(this._cache[t])&&(this._cache[t]=e.call(this)),this._cache[t]},n.enable=function(t){var e=this;void 0===t&&(t=!0);var a=this.options,i=a.classes,n=a.classPrefix;!1!==this.options.addTargetClasses&&rt(this.target,st("enabled",i,n)),rt(this.element,st("enabled",i,n)),this.enabled=!0,this.scrollParents.forEach((function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)})),t&&this.position()},n.disable=function(){var t=this,e=this.options,a=e.classes,i=e.classPrefix;ct(this.target,st("enabled",a,i)),ct(this.element,st("enabled",a,i)),this.enabled=!1,ot(this.scrollParents)||this.scrollParents.forEach((function(e){e&&e.removeEventListener&&e.removeEventListener("scroll",t.position)}))},n.destroy=function(){var t,e=this;this.disable(),this._removeClasses(),Ht.forEach((function(t,a){t===e&&Ht.splice(a,1)})),0===Ht.length&&(t=this.bodyElement,yt&&t.removeChild(yt),yt=null)},n.updateAttachClasses=function(t,e){var a=this;t=t||this.attachment,e=e||this.targetAttachment;var i=this.options,n=i.classes,o=i.classPrefix;!ot(this._addAttachClasses)&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),ot(this._addAttachClasses)&&(this._addAttachClasses=[]),this.add=this._addAttachClasses,t.top&&this.add.push(st("element-attached",n,o)+"-"+t.top),t.left&&this.add.push(st("element-attached",n,o)+"-"+t.left),e.top&&this.add.push(st("target-attached",n,o)+"-"+e.top),e.left&&this.add.push(st("target-attached",n,o)+"-"+e.left),this.all=[],["left","top","bottom","right","middle","center"].forEach((function(t){a.all.push(st("element-attached",n,o)+"-"+t),a.all.push(st("target-attached",n,o)+"-"+t)})),dt((function(){ot(a._addAttachClasses)||(lt(a.element,a._addAttachClasses,a.all),!1!==a.options.addTargetClasses&&lt(a.target,a._addAttachClasses,a.all),delete a._addAttachClasses)}))},n.position=function(t){var e=this;if(void 0===t&&(t=!0),this.enabled){this.clearCache();var a=function(t,e){var a=t.left,i=t.top;return"auto"===a&&(a=Ct[e.left]),"auto"===i&&(i=St[e.top]),{left:a,top:i}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,a);var i=this.cache("element-bounds",(function(){return vt(e.bodyElement,e.element)})),n=i.width,o=i.height;if(0!==n||0!==o||ot(this.lastSize))this.lastSize={width:n,height:o};else{var r=this.lastSize;n=r.width,o=r.height}var s=this.cache("target-bounds",(function(){return e.getTargetBounds()})),c=s,l=kt(Nt(this.attachment),{width:n,height:o}),h=kt(Nt(a),c),d=kt(this.offset,{width:n,height:o}),u=kt(this.targetOffset,c);l=Dt(l,d),h=Dt(h,u);for(var m=s.left+h.left-l.left,p=s.top+h.top-l.top,f=0;f<Mt.modules.length;++f){var g=Mt.modules[f].position.call(this,{left:m,top:p,targetAttachment:a,targetPos:s,elementPos:i,offset:l,targetOffset:h,manualOffset:d,manualTargetOffset:u,scrollbarSize:x,attachment:this.attachment});if(!1===g)return!1;ot(g)||"object"!=typeof g||(p=g.top,m=g.left)}var x,b={page:{top:p,left:m},viewport:{top:p-pageYOffset,bottom:pageYOffset-p-o+innerHeight,left:m-pageXOffset,right:pageXOffset-m-n+innerWidth}},y=this.target.ownerDocument,v=y.defaultView;if(v.innerHeight>y.documentElement.clientHeight&&(x=this.cache("scrollbar-size",ft),b.viewport.bottom-=x.height),v.innerWidth>y.documentElement.clientWidth&&(x=this.cache("scrollbar-size",ft),b.viewport.right-=x.width),-1!==["","static"].indexOf(y.body.style.position)&&-1!==["","static"].indexOf(y.body.parentElement.style.position)||(b.page.bottom=y.body.scrollHeight-p-o,b.page.right=y.body.scrollWidth-m-n),!ot(this.options.optimizations)&&!1!==this.options.optimizations.moveElement&&ot(this.targetModifier)){var E=this.cache("target-offsetparent",(function(){return Pt(e.target)})),_=this.cache("target-offsetparent-bounds",(function(){return vt(e.bodyElement,E)})),w=getComputedStyle(E),A=_,O={};if(["Top","Left","Bottom","Right"].forEach((function(t){O[t.toLowerCase()]=parseFloat(w["border"+t+"Width"])})),_.right=y.body.scrollWidth-_.left-A.width+O.right,_.bottom=y.body.scrollHeight-_.top-A.height+O.bottom,b.page.top>=_.top+O.top&&b.page.bottom>=_.bottom&&b.page.left>=_.left+O.left&&b.page.right>=_.right){var T=E.scrollLeft,C=E.scrollTop;b.offset={top:b.page.top-_.top+C-O.top,left:b.page.left-_.left+T-O.left}}}return this.move(b),this.history.unshift(b),this.history.length>3&&this.history.pop(),t&&ut(),!0}},n.move=function(t){var e=this;if(!ot(this.element.parentNode)){var a,i,n,o={};for(var r in t)for(var s in o[r]={},t[r]){for(var c=!1,l=0;l<this.history.length;++l){var h=this.history[l];if(!(ot(h[r])||(a=h[r][s],i=t[r][s],n=void 0,void 0===n&&(n=1),a+n>=i&&i>=a-n))){c=!0;break}}c||(o[r][s]=!0)}var d={top:"",left:"",right:"",bottom:""},u=function(t,a){var i,n;!1!==(!ot(e.options.optimizations)?e.options.optimizations.gpu:null)?(t.top?(d.top=0,i=a.top):(d.bottom=0,i=-a.bottom),t.left?(d.left=0,n=a.left):(d.right=0,n=-a.right),"number"==typeof window.devicePixelRatio&&devicePixelRatio%1==0&&(n=Math.round(n*devicePixelRatio)/devicePixelRatio,i=Math.round(i*devicePixelRatio)/devicePixelRatio),d[Ut]="translateX("+n+"px) translateY("+i+"px)","msTransform"!==Ut&&(d[Ut]+=" translateZ(0)")):(t.top?d.top=a.top+"px":d.bottom=a.bottom+"px",t.left?d.left=a.left+"px":d.right=a.right+"px")},m=!0;!ot(this.options.optimizations)&&!1===this.options.optimizations.allowPositionFixed&&(m=!1);var p,f,g=!1;if((o.page.top||o.page.bottom)&&(o.page.left||o.page.right))d.position="absolute",u(o.page,t.page);else if(m&&(o.viewport.top||o.viewport.bottom)&&(o.viewport.left||o.viewport.right))d.position="fixed",u(o.viewport,t.viewport);else if(!ot(o.offset)&&o.offset.top&&o.offset.left){d.position="absolute";var x=this.cache("target-offsetparent",(function(){return Pt(e.target)}));Pt(this.element)!==x&&dt((function(){e.element.parentNode.removeChild(e.element),x.appendChild(e.element)})),u(o.offset,t.offset),g=!0}else d.position="absolute",u({top:!0,left:!0},t.page);if(!g)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var b=!0,y=this.element.parentNode;y&&1===y.nodeType&&"BODY"!==y.tagName&&(f=void 0,((f=(p=y).ownerDocument).fullscreenElement||f.webkitFullscreenElement||f.mozFullScreenElement||f.msFullscreenElement)!==p);){if("static"!==getComputedStyle(y).position){b=!1;break}y=y.parentNode}b||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var v={},E=!1;for(var _ in d){var w=d[_];this.element.style[_]!==w&&(E=!0,v[_]=w)}E&&dt((function(){pt(e.element.style,v),e.trigger("repositioned")}))}},n._addClasses=function(){var t=this.options,e=t.classes,a=t.classPrefix;rt(this.element,st("element",e,a)),!1!==this.options.addTargetClasses&&rt(this.target,st("target",e,a))},n._removeClasses=function(){var t=this,e=this.options,a=e.classes,i=e.classPrefix;ct(this.element,st("element",a,i)),!1!==this.options.addTargetClasses&&ct(this.target,st("target",a,i)),this.all.forEach((function(e){t.element.classList.remove(e),t.target.classList.remove(e)}))},i}(Tt);$t.modules=[],Mt.position=jt;var Wt=pt($t,Mt);Wt.modules.push({initialize:function(){var t=this,e=this.options,a=e.classes,i=e.classPrefix;this.markers={},["target","element"].forEach((function(e){var n=document.createElement("div");n.className=st(e+"-marker",a,i);var o=document.createElement("div");o.className=st("marker-dot",a,i),n.appendChild(o),t[e].appendChild(n),t.markers[e]={dot:o,el:n}}))},position:function(t){var e={element:t.manualOffset,target:t.manualTargetOffset};for(var a in e){var i=e[a];for(var n in i){var o,r=i[n];(!nt(r)||-1===r.indexOf("%")&&-1===r.indexOf("px"))&&(r+="px"),this.markers[a]&&(null==(o=this.markers[a].dot)?void 0:o.style[n])!==r&&(this.markers[a].dot.style[n]=r)}}return!0}});function Yt(){const t=document.querySelectorAll(".tooltip-trigger--active");if(t.length>1)throw new Error("There must be a maximum of one active trigger.");return 0===t.length?null:t[0]}function Kt(){const t=document.querySelectorAll(".tooltip-tether");if(t.length>1)throw new Error("There must be a maximum of one tooltip element.");return 0===t.length?null:t[0]}function Jt(t,e){const a=function(t){const e=t.getBoundingClientRect();return e.left+.5*e.width<.5*document.documentElement.clientWidth}(e)?"left":"right";new Wt({element:t,target:e,attachment:"top "+a,targetAttachment:"bottom "+a,constraints:[{to:"window",attachment:"together",pin:!1}]})}function Vt(t,e){if(null!==Kt())throw new Error("Multiple tooltip elements are not allowed.");const a=function(t){const e=`\n        <div class="tooltip-tether__body" data-test="opr-tooltip-body">\n            <div class="tooltip-tether__arrow"></div>\n            <button type="button" class="tooltip-tether__close-button" data-test="opr-tooltip-close">\n                <span class="u-srOnly">Close</span>\n            </button>\n            ${t}\n        </div>\n    `,a=document.createElement("div");return a.setAttribute("class","tooltip-tether"),a.innerHTML=e,a}(e());if(document.body.append(a),Jt(a,t),function(){const t=document.querySelectorAll(".tooltip-tether__close-button");if(1!==t.length)throw new Error("There must be exactly one close button at this point.");return t[0]}().addEventListener("click",Gt,!1),a!==Kt())throw new Error("element should be getTooltipElement ().");"open-peer-review-content"===t.getAttribute("data-tooltip-content")&&function(){const t=document.querySelectorAll(".tooltip-trigger--active"),e=t[0].previousElementSibling.href+"about#peer-review+policy",a=document.querySelector(".tooltip-tether__body"),i=`<a href="${e}">How does Open Peer Review work?</a>`,n=document.createElement("p");n.innerHTML=i,a.append(n)}()}function Xt(t,e){t&&(t.classList.add("tooltip-trigger--active"),t.classList.add("is-shown"),Vt(t,e))}function Gt(){const t=Yt();t&&(t.classList.remove("tooltip-trigger--active"),t.classList.remove("is-shown")),function(){const t=Kt();null!==t&&t.remove()}()}function Zt(t){return function(){const e=document.querySelector("#"+t.getAttribute("data-tooltip-content"));if(null===e)throw new Error("The content element that was specified for the tooltip does not exist.");return e.innerHTML}}function Qt(t,e){t.addEventListener("click",a=>{a.preventDefault();const i=Yt();null===i?Xt(t,e):(Gt(),t!==i&&Xt(t,e))},!1)}var te={exports:{}};
/*!
	 * validate.js 0.13.1
	 *
	 * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
	 * Validate.js may be freely distributed under the MIT license.
	 * For all details and documentation:
	 * http://validatejs.org/
	 */!function(t,e){(function(t,e,a){var i=function(t,e,a){a=n.extend({},n.options,a);var o=n.runValidations(t,e,a);if(o.some((function(t){return n.isPromise(t.error)})))throw new Error("Use validate.async if you want support for promises");return i.processValidationResults(o,a)},n=i;n.extend=function(t){return[].slice.call(arguments,1).forEach((function(e){for(var a in e)t[a]=e[a]})),t},n.extend(i,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var t=n.format("%{major}.%{minor}.%{patch}",n.version);return n.isEmpty(n.version.metadata)||(t+="+"+n.version.metadata),t}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(t,e,a){var i,o,r,s,c,l,h,d=[];for(i in(n.isDomElement(t)||n.isJqueryElement(t))&&(t=n.collectFormValues(t)),e)for(o in r=n.getDeepObjectValue(t,i),s=n.result(e[i],r,t,i,a,e)){if(!(c=n.validators[o]))throw h=n.format("Unknown validator %{name}",{name:o}),new Error(h);l=s[o],(l=n.result(l,r,t,i,a,e))&&d.push({attribute:i,value:r,validator:o,globalOptions:a,attributes:t,options:l,error:c.call(c,r,l,i,t,a)})}return d},processValidationResults:function(t,e){t=n.pruneEmptyErrors(t,e),t=n.expandMultipleErrors(t,e),t=n.convertErrorMessages(t,e);var a=e.format||"grouped";if("function"!=typeof n.formatters[a])throw new Error(n.format("Unknown format %{format}",e));return t=n.formatters[a](t),n.isEmpty(t)?void 0:t},async:function(t,e,a){var i=(a=n.extend({},n.async.options,a)).wrapErrors||function(t){return t};!1!==a.cleanAttributes&&(t=n.cleanAttributes(t,e));var o=n.runValidations(t,e,a);return new n.Promise((function(r,s){n.waitForResults(o).then((function(){var c=n.processValidationResults(o,a);c?s(new i(c,a,t,e)):r(t)}),(function(t){s(t)}))}))},single:function(t,e,a){return a=n.extend({},n.single.options,a,{format:"flat",fullMessages:!1}),n({single:t},{single:e},a)},waitForResults:function(t){return t.reduce((function(t,e){return n.isPromise(e.error)?t.then((function(){return e.error.then((function(t){e.error=t||null}))})):t}),new n.Promise((function(t){t()})))},result:function(t){var e=[].slice.call(arguments,1);return"function"==typeof t&&(t=t.apply(null,e)),t},isNumber:function(t){return"number"==typeof t&&!isNaN(t)},isFunction:function(t){return"function"==typeof t},isInteger:function(t){return n.isNumber(t)&&t%1==0},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t===Object(t)},isDate:function(t){return t instanceof Date},isDefined:function(t){return null!=t},isPromise:function(t){return!!t&&n.isFunction(t.then)},isJqueryElement:function(t){return t&&n.isString(t.jquery)},isDomElement:function(t){return!!t&&(!(!t.querySelectorAll||!t.querySelector)&&(!(!n.isObject(document)||t!==document)||("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)))},isEmpty:function(t){var e;if(!n.isDefined(t))return!0;if(n.isFunction(t))return!1;if(n.isString(t))return n.EMPTY_STRING_REGEXP.test(t);if(n.isArray(t))return 0===t.length;if(n.isDate(t))return!1;if(n.isObject(t)){for(e in t)return!1;return!0}return!1},format:n.extend((function(t,e){return n.isString(t)?t.replace(n.format.FORMAT_REGEXP,(function(t,a,i){return"%"===a?"%{"+i+"}":String(e[i])})):t}),{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(t){return n.isNumber(t)?100*t%1==0?""+t:parseFloat(Math.round(100*t)/100).toFixed(2):n.isArray(t)?t.map((function(t){return n.prettify(t)})).join(", "):n.isObject(t)?n.isDefined(t.toString)?t.toString():JSON.stringify(t):(t=""+t).replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,(function(t,e,a){return e+" "+a.toLowerCase()})).toLowerCase()},stringifyValue:function(t,e){return(e&&e.prettify||n.prettify)(t)},isString:function(t){return"string"==typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isHash:function(t){return n.isObject(t)&&!n.isArray(t)&&!n.isFunction(t)},contains:function(t,e){return!!n.isDefined(t)&&(n.isArray(t)?-1!==t.indexOf(e):e in t)},unique:function(t){return n.isArray(t)?t.filter((function(t,e,a){return a.indexOf(t)==e})):t},forEachKeyInKeypath:function(t,e,a){if(n.isString(e)){var i,o="",r=!1;for(i=0;i<e.length;++i)switch(e[i]){case".":r?(r=!1,o+="."):(t=a(t,o,!1),o="");break;case"\\":r?(r=!1,o+="\\"):r=!0;break;default:r=!1,o+=e[i]}return a(t,o,!0)}},getDeepObjectValue:function(t,e){if(n.isObject(t))return n.forEachKeyInKeypath(t,e,(function(t,e){if(n.isObject(t))return t[e]}))},collectFormValues:function(t,e){var a,i,o,r,s,c,l={};if(n.isJqueryElement(t)&&(t=t[0]),!t)return l;for(e=e||{},r=t.querySelectorAll("input[name], textarea[name]"),a=0;a<r.length;++a)if(o=r.item(a),!n.isDefined(o.getAttribute("data-ignored"))){var h=o.name.replace(/\./g,"\\\\.");c=n.sanitizeFormValue(o.value,e),"number"===o.type?c=c?+c:null:"checkbox"===o.type?o.attributes.value?o.checked||(c=l[h]||null):c=o.checked:"radio"===o.type&&(o.checked||(c=l[h]||null)),l[h]=c}for(r=t.querySelectorAll("select[name]"),a=0;a<r.length;++a)if(o=r.item(a),!n.isDefined(o.getAttribute("data-ignored"))){if(o.multiple)for(i in c=[],o.options)(s=o.options[i])&&s.selected&&c.push(n.sanitizeFormValue(s.value,e));else{var d=void 0!==o.options[o.selectedIndex]?o.options[o.selectedIndex].value:"";c=n.sanitizeFormValue(d,e)}l[o.name]=c}return l},sanitizeFormValue:function(t,e){return e.trim&&n.isString(t)&&(t=t.trim()),!1!==e.nullify&&""===t?null:t},capitalize:function(t){return n.isString(t)?t[0].toUpperCase()+t.slice(1):t},pruneEmptyErrors:function(t){return t.filter((function(t){return!n.isEmpty(t.error)}))},expandMultipleErrors:function(t){var e=[];return t.forEach((function(t){n.isArray(t.error)?t.error.forEach((function(a){e.push(n.extend({},t,{error:a}))})):e.push(t)})),e},convertErrorMessages:function(t,e){var a=[],i=(e=e||{}).prettify||n.prettify;return t.forEach((function(t){var o=n.result(t.error,t.value,t.attribute,t.options,t.attributes,t.globalOptions);n.isString(o)?("^"===o[0]?o=o.slice(1):!1!==e.fullMessages&&(o=n.capitalize(i(t.attribute))+" "+o),o=o.replace(/\\\^/g,"^"),o=n.format(o,{value:n.stringifyValue(t.value,e)}),a.push(n.extend({},t,{error:o}))):a.push(t)})),a},groupErrorsByAttribute:function(t){var e={};return t.forEach((function(t){var a=e[t.attribute];a?a.push(t):e[t.attribute]=[t]})),e},flattenErrorsToArray:function(t){return t.map((function(t){return t.error})).filter((function(t,e,a){return a.indexOf(t)===e}))},cleanAttributes:function(t,e){function a(t,e,a){return n.isObject(t[e])?t[e]:t[e]=!!a||{}}return n.isObject(e)&&n.isObject(t)?function t(e,a){if(!n.isObject(e))return e;var i,o,r=n.extend({},e);for(o in e)i=a[o],n.isObject(i)?r[o]=t(r[o],i):i||delete r[o];return r}(t,e=function(t){var e,i={};for(e in t)t[e]&&n.forEachKeyInKeypath(i,e,a);return i}(e)):{}},exposeModule:function(t,e,a,i,n){a?(i&&i.exports&&(a=i.exports=t),a.validate=t):(e.validate=t,t.isFunction(n)&&n.amd&&n([],(function(){return t})))},warn:function(t){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+t)},error:function(t){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+t)}}),i.validators={presence:function(t,e){if(!1!==(e=n.extend({},this.options,e)).allowEmpty?!n.isDefined(t):n.isEmpty(t))return e.message||this.message||"can't be blank"},length:function(t,e,a){if(n.isDefined(t)){var i,o=(e=n.extend({},this.options,e)).is,r=e.maximum,s=e.minimum,c=[],l=(t=(e.tokenizer||function(t){return t})(t)).length;return n.isNumber(l)?(n.isNumber(o)&&l!==o&&(i=e.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",c.push(n.format(i,{count:o}))),n.isNumber(s)&&l<s&&(i=e.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",c.push(n.format(i,{count:s}))),n.isNumber(r)&&l>r&&(i=e.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",c.push(n.format(i,{count:r}))),c.length>0?e.message||c:void 0):e.message||this.notValid||"has an incorrect length"}},numericality:function(t,e,a,i,o){if(n.isDefined(t)){var r,s,c=[],l={greaterThan:function(t,e){return t>e},greaterThanOrEqualTo:function(t,e){return t>=e},equalTo:function(t,e){return t===e},lessThan:function(t,e){return t<e},lessThanOrEqualTo:function(t,e){return t<=e},divisibleBy:function(t,e){return t%e==0}},h=(e=n.extend({},this.options,e)).prettify||o&&o.prettify||n.prettify;if(n.isString(t)&&e.strict){var d="^-?(0|[1-9]\\d*)";if(e.onlyInteger||(d+="(\\.\\d+)?"),d+="$",!new RegExp(d).test(t))return e.message||e.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==e.noStrings&&n.isString(t)&&!n.isEmpty(t)&&(t=+t),!n.isNumber(t))return e.message||e.notValid||this.notValid||this.message||"is not a number";if(e.onlyInteger&&!n.isInteger(t))return e.message||e.notInteger||this.notInteger||this.message||"must be an integer";for(r in l)if(s=e[r],n.isNumber(s)&&!l[r](t,s)){var u="not"+n.capitalize(r),m=e[u]||this[u]||this.message||"must be %{type} %{count}";c.push(n.format(m,{count:s,type:h(r)}))}return e.odd&&t%2!=1&&c.push(e.notOdd||this.notOdd||this.message||"must be odd"),e.even&&t%2!=0&&c.push(e.notEven||this.notEven||this.message||"must be even"),c.length?e.message||c:void 0}},datetime:n.extend((function(t,e){if(!n.isFunction(this.parse)||!n.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(n.isDefined(t)){var a,i=[],o=(e=n.extend({},this.options,e)).earliest?this.parse(e.earliest,e):NaN,r=e.latest?this.parse(e.latest,e):NaN;return t=this.parse(t,e),isNaN(t)||e.dateOnly&&t%864e5!=0?(a=e.notValid||e.message||this.notValid||"must be a valid date",n.format(a,{value:arguments[0]})):(!isNaN(o)&&t<o&&(a=e.tooEarly||e.message||this.tooEarly||"must be no earlier than %{date}",a=n.format(a,{value:this.format(t,e),date:this.format(o,e)}),i.push(a)),!isNaN(r)&&t>r&&(a=e.tooLate||e.message||this.tooLate||"must be no later than %{date}",a=n.format(a,{date:this.format(r,e),value:this.format(t,e)}),i.push(a)),i.length?n.unique(i):void 0)}}),{parse:null,format:null}),date:function(t,e){return e=n.extend({},e,{dateOnly:!0}),n.validators.datetime.call(n.validators.datetime,t,e)},format:function(t,e){(n.isString(e)||e instanceof RegExp)&&(e={pattern:e});var a,i=(e=n.extend({},this.options,e)).message||this.message||"is invalid",o=e.pattern;if(n.isDefined(t))return n.isString(t)?(n.isString(o)&&(o=new RegExp(e.pattern,e.flags)),(a=o.exec(t))&&a[0].length==t.length?void 0:i):i},inclusion:function(t,e){if(n.isDefined(t)&&(n.isArray(e)&&(e={within:e}),e=n.extend({},this.options,e),!n.contains(e.within,t))){var a=e.message||this.message||"^%{value} is not included in the list";return n.format(a,{value:t})}},exclusion:function(t,e){if(n.isDefined(t)&&(n.isArray(e)&&(e={within:e}),e=n.extend({},this.options,e),n.contains(e.within,t))){var a=e.message||this.message||"^%{value} is restricted";return n.isString(e.within[t])&&(t=e.within[t]),n.format(a,{value:t})}},email:n.extend((function(t,e){var a=(e=n.extend({},this.options,e)).message||this.message||"is not a valid email";if(n.isDefined(t))return n.isString(t)&&this.PATTERN.exec(t)?void 0:a}),{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(t,e,a,i,o){if(n.isDefined(t)){n.isString(e)&&(e={attribute:e});var r=(e=n.extend({},this.options,e)).message||this.message||"is not equal to %{attribute}";if(n.isEmpty(e.attribute)||!n.isString(e.attribute))throw new Error("The attribute must be a non empty string");var s=n.getDeepObjectValue(i,e.attribute),c=e.comparator||function(t,e){return t===e},l=e.prettify||o&&o.prettify||n.prettify;return c(t,s,e,a,i)?void 0:n.format(r,{attribute:l(e.attribute)})}},url:function(t,e){if(n.isDefined(t)){var a=(e=n.extend({},this.options,e)).message||this.message||"is not a valid url",i=e.schemes||this.schemes||["http","https"],o=e.allowLocal||this.allowLocal||!1,r=e.allowDataUrl||this.allowDataUrl||!1;if(!n.isString(t))return a;var s="^(?:(?:"+i.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",c="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(o?c+="?":s+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",s+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+c+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",r){s="(?:"+s+")|(?:^data:(?:\\w+\\/[-+.\\w]+(?:;[\\w=]+)*)?(?:;base64)?,[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*$)"}return new RegExp(s,"i").exec(t)?void 0:a}},type:n.extend((function(t,e,a,i,o){if(n.isString(e)&&(e={type:e}),n.isDefined(t)){var r,s=n.extend({},this.options,e),c=s.type;if(!n.isDefined(c))throw new Error("No type was specified");if(r=n.isFunction(c)?c:this.types[c],!n.isFunction(r))throw new Error("validate.validators.type.types."+c+" must be a function.");if(!r(t,s,a,i,o)){var l=e.message||this.messages[c]||this.message||s.message||(n.isFunction(c)?"must be of the correct type":"must be of type %{type}");return n.isFunction(l)&&(l=l(t,e,a,i,o)),n.format(l,{attribute:n.prettify(a),type:c})}}}),{types:{object:function(t){return n.isObject(t)&&!n.isArray(t)},array:n.isArray,integer:n.isInteger,number:n.isNumber,string:n.isString,date:n.isDate,boolean:n.isBoolean},messages:{}})},i.formatters={detailed:function(t){return t},flat:n.flattenErrorsToArray,grouped:function(t){var e;for(e in t=n.groupErrorsByAttribute(t))t[e]=n.flattenErrorsToArray(t[e]);return t},constraint:function(t){var e;for(e in t=n.groupErrorsByAttribute(t))t[e]=t[e].map((function(t){return t.validator})).sort();return t}},i.exposeModule(i,this,t,e,a)}).call(a,e,t,null)}(te,te.exports);var ee=te.exports;function ae(t,e,a){return C(function*(){const i=t.value;if(!t||"hidden"===t.type)return Promise.resolve();if(t.hasAttribute("required")){const n=ee({required:i},{required:{presence:{allowEmpty:!1}}});a(t,n,e.required.error)}if("email"===t.type&&i){const n=t.closest("form").querySelectorAll(".js-resend-activation-success, .js-resend-activation-error, .js-resend-activation-email");l(n).forEach(t=>{t.hidden=!0});const o=ee({email:i},{email:{email:!0}});if(o)return a(t,o,e.email.error);const r=t.closest("form"),s=r.hasAttribute("data-action")&&r.getAttribute("data-action"),c=r.querySelector('[name="journalId"]'),h=yield function(t,e,a){return C(function*(){const i=new window.URLSearchParams;i.append("email",t),e&&i.append("action",e),a&&i.append("journalId",a);const n="/email-status?"+i.toString(),o=yield fetch(n);if(200===o.status)return yield o.text()}())}(i,s,c?c.value:null);h&&a(t,{email:[h]},h)}}())}const ie=document.forms;let ne;const oe={required:{error:"Please fill out this field",radioGroupError:"Please select one of the above",checkboxGroupError:"Please select one or more of the above"},email:{error:"Please enter a valid email address"},dateRange:{error:"The From date must be earlier than the To date"}};function re(t){return t.closest(".c-form-field")}function se(t){const e=re(t).getElementsByClassName("c-form-field__error");if(t.classList.remove("is-error"),e.length>0)for(;e[0];)e[0].remove()}function ce(t,e,a){se(t),e&&(ne=!1,function(t,e){if("SELECT"!==t.nodeName&&t.classList.add("is-error"),!e)return;const a=re(t),i=document.createElement("p");i.classList.add("c-form-field__error","u-mt-8"),i.textContent=e,a.append(i)}(t,a))}function le(t){l(l(document.querySelectorAll('input[type="radio"], input[type="checkbox"]')).filter(t=>t.required).map(t=>t.name).filter((t,e,a)=>a.indexOf(t)===e)).forEach(e=>{const a=[],i=t.querySelectorAll(`input[name="${e}"]`),n=i[0];if(l(i).forEach(t=>{"hidden"!==t.type&&(se(t),t.checked&&a.push("there is something checked in this group"))}),0===a.length){const t=ee({required:null},{required:{presence:!0}});"radio"===n.type&&ce(n,t,oe.required.radioGroupError),"checkbox"===n.type&&ce(n,t,oe.required.checkboxGroupError)}})}function he(t){const e=t.querySelectorAll("select"),a=e[0];if(4!==e.length)throw new Error("There should be 4 select boxes in a date range");{const t=e[1],i=e[0],n=e[3],o=e[2];if(!(t&&i&&n&&o))return;new Date(t.value,i.value-1).getTime()<new Date(n.value,o.value-1).getTime()?se(a):ce(a,!0,oe.dateRange.error)}}function de(t){l(t.querySelectorAll("input, select")).forEach(e=>{if("hidden"!==e.type){if("SELECT"===e.nodeName){const t=e.closest(["data-date-range"]);t&&e.addEventListener("change",()=>he(t))}"radio"===e.type||"checkbox"===e.type?e.addEventListener("change",()=>le(t)):e.addEventListener("blur",()=>ae(e,oe,ce))}})}function ue(t){l(t.querySelectorAll('input[type="submit"], button[type="submit"]')).forEach(e=>{e.addEventListener("click",()=>{l(t.querySelectorAll(".submit-target")).forEach(t=>{t.classList.remove("submit-target")}),e.classList.add("submit-target")})})}function me(t){let e=!0;t.addEventListener("submit",a=>C(function*(){try{if(!e)return Promise.resolve();a.preventDefault(),a.stopPropagation(),ne=!0;const i=l(t.querySelectorAll("input, select")).map(t=>C(function*(){if("hidden"===t.type)return Promise.resolve();if("SELECT"===t.nodeName){const e=t.closest("[data-date-range]");e&&he(e)}"radio"!==t.type&&"checkbox"!==t.type&&(yield ae(t,oe,ce))}()));yield Promise.all(i),le(t),ne&&(e=!1,t.submit())}catch(t){console.error("validate.js handleFormSubmit function error:",t)}}()))}document.documentElement.addEventListener("webfonts-loaded",()=>{document.documentElement.classList.add("webfonts-loaded")}),window.location.hostname&&window.location.hostname.includes("biomedcentral")&&function(t){let e=null;try{e=sessionStorage.getItem("fontsLoaded")}catch(t){}if(!e)(function(t){const e=(t||[]).map(t=>t.weights.map(e=>new c(t.name,{weight:e}).load().catch(()=>{})));Promise.all(e).then(()=>{const t=new CustomEvent("webfonts-loaded");document.documentElement.dispatchEvent(t);try{sessionStorage.fontsLoaded=!0}catch(t){}})})(t)}([{name:"Europa",weights:["100","400","700"]},{name:"Noto Serif",weights:["400","700"]}]),J.replace().then(()=>{I(),b()}),((t={})=>{const e=document.querySelectorAll("[data-expander]");0!==e.length&&l(e).forEach(e=>{if(!e.hasAttribute("data-expander-target"))return;const a=document.querySelector(e.getAttribute("data-expander-target"));if(!a)return;const i=((t,e)=>{const a={};for(const i in e)if(e.hasOwnProperty(i)){let n=e[i];const o=t.hasAttribute(n)&&t.getAttribute(n);o&&(a[i]="true"===o||"false"===o?"true"===o:o)}return a})(e,u);new class{constructor(t,e,a={}){this._options=Object.assign({},d,a),this._autoFocusElement=t,this._triggerEl=t,this._targetEl=e,this._originalTriggerText=t.textContent,this._isOpen=this._options.DEFAULT_OPEN,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonKeydown=this._handleButtonKeydown.bind(this),this._handleDocumentClick=this._handleDocumentClick.bind(this),this._handleDocumentKeydown=this._handleDocumentKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this.close():this.open()}_handleButtonKeydown(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._isOpen?this.close():this.open())}_handleDocumentKeydown(t){"Escape"===t.key&&(this.close(),this._triggerEl.focus()),this._options.CLOSE_ON_FOCUS_OUT&&("Tab"===t.key&&!0===t.shiftKey&&(t.target!==this._targetTabbableItems[0]&&t.target!==this._triggerEl&&t.target!==this._targetEl||(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()}))),"Tab"===t.key&&!1===t.shiftKey&&t.target===this._targetTabbableItems[this._targetTabbableItems.length-1]&&(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()})))}_handleDocumentClick(t){let e=t.target;e===this._targetEl||e===this._triggerEl||this._targetEl.contains(e)||this._triggerEl.contains(e)||this.close()}_setupTemporaryEventListeners(){document.addEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.addEventListener("click",this._handleDocumentClick)}_removeTemporaryEventListeners(){document.removeEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.removeEventListener("click",this._handleDocumentClick)}_updateAttributes(){this._triggerEl.setAttribute("aria-expanded",this._isOpen.toString()),this._isOpen?this._targetEl.removeAttribute("hidden"):this._targetEl.setAttribute("hidden","")}_updateClassAttributes(){this._isOpen?(this._triggerEl.classList.add(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.remove(this._options.TARGET_HIDE_CLASS)):(this._triggerEl.classList.remove(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.add(this._options.TARGET_HIDE_CLASS))}_updateTriggerLabel(){this._options.TRIGGER_OPEN_LABEL&&(this._triggerEl.textContent=this._isOpen?this._options.TRIGGER_OPEN_LABEL:this._originalTriggerText)}_updateTabbableItems(){this._targetTabbableItems=l(this._targetEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(t=>"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility"))}_handleAutoFocus(){"target"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetEl,this._targetEl.setAttribute("tabindex","-1")),"firstTabbable"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetTabbableItems.length>0&&this._targetTabbableItems[0],this._autoFocusElement.setSelectionRange&&this._autoFocusElement.setSelectionRange(0,this._autoFocusElement.value.length)),this._autoFocusElement.focus()}open(){if(!this._isOpen&&(this._isOpen=!0,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._updateTabbableItems(),this._setupTemporaryEventListeners(),this._handleAutoFocus(),this._options.OPEN_EVENT)){const t=h("open","globalExpander",{bubbles:!1});this._triggerEl.dispatchEvent(t)}}close(){this._isOpen&&(this._isOpen=!1,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._removeTemporaryEventListeners())}init(){"A"===this._triggerEl.tagName&&"#"===this._triggerEl.getAttribute("href").charAt(0)&&(this._triggerEl.setAttribute("href","javascript:;"),this._triggerEl.setAttribute("role","button")),this._options.AUTOFOCUS&&this._triggerEl.setAttribute("aria-haspopup","true"),this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._triggerEl.addEventListener("click",this._handleButtonClick),this._triggerEl.addEventListener("keydown",this._handleButtonKeydown)}}(e,a,Object.assign({},t,i)).init()})})(),function(){const t=[...document.querySelectorAll("[data-dynamic-track-label]")];!t.length>0||[...t].forEach(t=>{const e=t.querySelector('input[type="text"]');e&&e.addEventListener("input",()=>{t.dataset.trackLabel=e.value})})}(),[...document.querySelectorAll("select[name=article-alert-frequency]")].forEach(t=>{const e=t.closest("form");t.addEventListener("change",()=>e.submit())}),[...document.querySelectorAll('[data-toggle="collapse"]')].forEach(t=>{B(t)}),[...document.querySelectorAll('[data-component="enhanced-select"]')].forEach(t=>{const e={context:t,filter:t.querySelector('[data-component="enhanced-select-filter"]'),chosen:t.querySelector('[data-component="enhanced-select-chosen"]'),input:t.querySelector("input"),list:t.querySelector('[data-component="enhanced-select-list"]'),select:t.querySelector("select"),openClass:"is-shown",activeClass:"is-shown"};!function({chosen:t,filter:e,openClass:a,activeClass:i,input:n}){["click","keypress","keydown"].forEach(o=>{t.addEventListener(o,()=>{e.classList.toggle(a),t.classList.toggle(i),n.focus(),function(t){t.addEventListener("keydown",t=>{"Enter"===t.key&&t.preventDefault()})}(n),"false"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false")},!1)})}(e),function(t){[...t.list.children].forEach(e=>{["click","keypress"].forEach(a=>{e.addEventListener(a,a=>{"Enter"!==a.key&&"click"!==a.type||U(e,t)},!1)})}),t.input.addEventListener("keypress",e=>{"Enter"===e.key&&t.list.querySelector(".is-highlighted")&&U(t.list.querySelector(".is-highlighted"),t)},!1)}(e),function({input:t,list:e}){t.addEventListener("keydown",t=>{const a=e.querySelector(".is-highlighted"),i=Array.prototype.slice.call(e.querySelectorAll('li:not([style="display: none;"])')),n=i.indexOf(a);if("ArrowDown"===t.key)if(a){const t=n===i.length-1,o=t?i[0]:i[n+1];a.classList.remove("is-highlighted"),o.classList.add("is-highlighted"),t?z(o,e):j(o,e)}else e.children[0].classList.add("is-highlighted");if("ArrowUp"===t.key&&a){const t=0===n,o=t?i[i.length-1]:i[n-1];a.classList.remove("is-highlighted"),o.classList.add("is-highlighted"),t?j(o,e):z(o,e)}},!1)}(e),function({list:t}){[...t.children].forEach(e=>{e.addEventListener("mouseover",()=>{t.querySelector(".is-highlighted")&&t.querySelector(".is-highlighted").classList.remove("is-highlighted"),e.classList.add("is-highlighted")},!1)})}(e),q.init(),e.chosen.classList.remove("u-hide"),e.list.style.position="relative",P('[data-component="enhanced-select"]',()=>{e.filter.classList.contains(e.openClass)&&e.chosen.classList.contains(e.activeClass)&&(e.filter.classList.remove(e.openClass),e.chosen.classList.remove(e.activeClass)),"true"===e.chosen.getAttribute("aria-expanded")&&e.chosen.setAttribute("aria-expanded","false")})}),function(){const t=document.querySelector("[data-component=search-sorter]");null!==t&&function(t){const e=t.querySelector("select");null!==e&&e.addEventListener("change",()=>{t.submit()},!1)}(t)}(),function(){const t=document.querySelector("#citation-search");if(t){const e=t.querySelector("input[type=text]"),a=t.querySelector("select");if(e&&a){const t=()=>{e.disabled=0===a.selectedIndex};a.addEventListener("change",()=>t()),t()}}}(),(()=>{const t=document.querySelectorAll("[data-search-input]");0!==t.length&&l(t).forEach(t=>{t.addEventListener("focus",()=>{const e=t.value;t.value="",t.value=e})})})(),et.init(),[...document.querySelectorAll(X)].forEach(t=>{const e=t.querySelector("input[type=text]");if(G=t.classList[0],e){const a=V((t,e)=>Z(t,e));e.removeAttribute("disabled"),e.addEventListener("input",()=>function(t,e,a){const i=t.querySelector("input[type=hidden]"),n=e.value.trim();i.value="",n?a(n,t):tt(t)}(t,e,a))}P(X,()=>{tt(t)})}),document.querySelectorAll("aside[data-customer-satisfaction-input]").forEach(t=>{new m(t)}),document.querySelector("[data-filter-institutions]")&&q.init();const pe=document.querySelector("[data-disable-click-event-default]");pe&&pe.addEventListener("click",t=>{t.preventDefault()}),r.loadMathJaxAsync(),function(){const t=document.querySelectorAll("[data-tooltip-content]");for(const e of t)Qt(e,Zt(e)),e.classList.add("tooltip-trigger")}(),function(){const t=document.querySelectorAll("[data-lazy-load]");if(t.length>0){const e={rootMargin:"100% 0% 100% 0%"};[...t].forEach(t=>{!function(t,e,a={}){const i=new IntersectionObserver(a=>{a.forEach(a=>{!0===a.isIntersecting&&(e(),i.unobserve(t))})},a);i.observe(t)}(t,()=>$(t),e)})}}(),function(){for(const t of ie)t.classList.contains("js-skip-validation")||(t.setAttribute("novalidate",""),ue(t),me(t),de(t))}(),window.addEventListener("load",(function(){w(),(()=>{const t=document.querySelectorAll("[data-twitter-timeline]");0!==t.length&&T(t)})()}))}();

//# sourceMappingURL=app-es6-bundle-61ed14d4f0.js.map
