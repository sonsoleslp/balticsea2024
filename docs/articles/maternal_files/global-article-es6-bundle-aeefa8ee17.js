!function(){"use strict";const t=(t,{wait:e="raf",immediate:n=!1}={})=>{const i="raf"===e;if(!i&&"number"!=typeof e)return;let r;return function(){let o=this,s=arguments;const a=()=>{r=null,n||t.apply(o,s)},c=n&&!r;r&&(i?window.cancelAnimationFrame(r):clearTimeout(r)),r=i?window.requestAnimationFrame(()=>t.apply(o,s)):setTimeout(a,e),c&&t.apply(o,s)}};function e(){this.listeners={}}e.prototype={on:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({fn:e,scope:n||null})},off:function(t,e){if(!this.listeners[t])return!1;e||(this.listeners[t]=[]);for(var n=this.listeners[t].length;n--;)this.listeners[t][n].fn===e&&this.listeners[t].splice(n,1);return this.listeners[t].length||(this.listeners[t]=null),!0},emit:function(t){for(var e=this.listeners[t]||[],n=[].slice.call(arguments,1),i=0;e[i];++i)e[i].fn.apply(e[i].scope,n)}};var n={exports:{}};!function(t){var e=function(t){var e={},n={},i={},r={},o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s=function(t){var e=t.split(".");return{ev:e[0],ns:e[1]||null}},a=function(t,e){for(var n=[],i=0;t[i];++i)e(t[i])||n.push(t[i]);return n},c=function(e,o,a){var c=s(e),l=c.ev,u=c.ns;i[l]||(r[l]=function(t){d.notify(l,t)},t.addEventListener(l,r[l],!1),i[l]=!0),n[l]||(n[l]=[]),n[l].push({fn:o,ns:u,scope:a||null})},l=function(t,e){var i=s(t),r=i.ev,o=i.ns;return!!n[r]&&(n[r]=o&&e?a(n[r],(function(t){return t.ns===o&&t.fn===e})):o?a(n[r],(function(t){return t.ns===o})):e?a(n[r],(function(t){return t.fn===e})):[],!n[r].length>0&&(n[r]=null),!0)},u=function(e,n,i){t.requestAnimationFrame((function(){n.call(i||null,{type:e})}))},d={on:function(e,n,i){for(var r=e.split(/\s+/),o=0;r[o];++o)"complete"===t.document.readyState&&r[o].match(/^load(\.|$)/)?u("load",n,i):c(r[o],n,i)},off:function(t,e){for(var n=t.split(/\s+/),i=0,r=0;n[r];++r)i+=l(n[r],e)?1:0;return i},reset:function(){var s;for(s in i)o(i,s)&&t.removeEventListener(s,r[s],!1);for(s in e)o(e,s)&&e[s]&&t.cancelAnimationFrame(e[s]);n={},e={},i={},r={}},notify:function(i,r){!e[i]&&n[i]&&(e[i]=t.requestAnimationFrame((function(){!function(t,e){for(var i=n[t]||[],r=0;i[r];++r)i[r].fn.call(i[r].scope,e)}(i,r),e[i]=!1})))}};return function(){return d}}(window);t.exports=e}(n);var i=n.exports;const r=(t,e,n)=>{let i;if(void 0===e)throw new Error("Missing namespace in `createEvent` function");return i="function"==typeof window.CustomEvent?new CustomEvent(`${e}:${t}`,n):((t,e)=>{e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n})(`${e}:${t}`,n),i},o=(t,{wait:e="raf",immediate:n=!1}={})=>{const i="raf"===e;if(!i&&"number"!=typeof e)return;let r;return function(){let o=this,s=arguments;const a=()=>{r=null,n||t.apply(o,s)},c=n&&!r;r&&(i?window.cancelAnimationFrame(r):clearTimeout(r)),r=i?window.requestAnimationFrame(()=>t.apply(o,s)):setTimeout(a,e),c&&t.apply(o,s)}},s={TARGET_HIDE_CLASS:"u-js-hide",TRIGGER_OPEN_CLASS:"is-open",TRIGGER_OPEN_LABEL:void 0,CLOSE_ON_FOCUS_OUT:!0,CLOSE_ON_DOCUMENT_CLICK:!0,AUTOFOCUS:null,OPEN_EVENT:!1,DEFAULT_OPEN:!1},a={profileElement:{value:void 0},researcherProfileLink:new Map,researcherProfileStatus:new Map,authorPosition:new Map,matchingResearchers:new Map};function c(){if(void 0!==a.profileElement.value)return a.profileElement.value;const t=document.querySelector("#researcher-profile-container");return a.profileElement.value=t||null,a.profileElement.value}function l(t){if(a.researcherProfileStatus.has(t))return a.researcherProfileStatus.get(t);const e=c();if(!e)return a.researcherProfileStatus.set(t,!1),!1;const n=u(t);if(n<0)return a.researcherProfileStatus.set(t,!1),!1;const i=1===d(e,n).length;return a.researcherProfileStatus.set(t,i),i}function u(t){if(a.authorPosition.has(t))return a.authorPosition.get(t);const e=document.querySelector("ol.c-article-authors-search");if(!e)return a.authorPosition.set(t,-1),-1;const n=e.querySelectorAll("li");for(let e=0;e<n.length;e++)if(n[e].id===t)return a.authorPosition.set(t,e),e;return a.authorPosition.set(t,-1),-1}function d(t,e){const n=`${t?t.id:"null"}_${e}`;if(a.matchingResearchers.has(n))return a.matchingResearchers.get(n);const i=Number(e);if(i<0)return a.matchingResearchers.set(n,!1),!1;const r=t.querySelectorAll("li"),o=Array.from(r).filter(t=>Number(t.getAttribute("data-profile-index"))===i);return a.matchingResearchers.set(n,o),o}const h=function(t){return Array.prototype.slice.call(t,0)},p=function(t){t&&t.focus()},f=function(t){return t.replaceAll(/<(div|p)[^>]*>/g,"<span>").replaceAll(/<\/(div|p)>/g,"</span>")},_=function(t,e){const n="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xlink",r=document.createElementNS(n,"svg");r.setAttributeNS(i,"xlink:href","#"+t),r.setAttribute("class",e),r.setAttribute("width","24"),r.setAttribute("height","24"),r.setAttribute("aria-hidden","true"),r.setAttribute("focusable","false");const o=document.createElementNS(n,"use");return o.setAttributeNS(i,"xlink:href","#"+t),o.setAttribute("xlink:href","#"+t),r.appendChild(o),r};function m(){return{create:function(t){const e=function(t){const e="app-researcher-popup",n=function(t,e,n){const i=t.getAttribute("data-corresp-id"),r=i?document.querySelector("#corresp-"+i):null,o=[],s=[],a=[];h(e.querySelectorAll("sup > a")).forEach((function(t){var e;(e=t.nextElementSibling)&&"true"===e.getAttribute("data-present-affiliation")||o.push(t.hash)})),o.forEach((function(t){const e=document.querySelector(t);if(e){const t=e.querySelector(".c-article-author-affiliation__address"),n=e.getAttribute("id");if(null!==t&&a.push(f(t.innerHTML)),null!==n&&n.indexOf("n")>-1){const t=e.querySelector(".js-present-address");t?s.push(f(t.innerHTML)):s.push(f(e.innerHTML))}}}));const c=s.concat(a),u=function(t){let e;return 0===t.length||(e=document.createElement("ul"),e.className="app-researcher-popup__author-list",t.forEach(t=>{const n=document.createElement("li");n.innerHTML=t,e.appendChild(n)})),e}(c),d=function(t,e,i){const r=function(t,e){let n;if(!e)return n;n=document.createElement("span"),n.className="app-researcher-popup__contact";const i=document.createElement("span");i.innerHTML="Contact "+t.innerHTML;const r=document.createElement("a");return r.setAttribute("data-track","click_corresponding_email"),r.href=e.getAttribute("href"),r.className="app-researcher-popup__link",r.rel="nofollow",r.appendChild(_("icon-eds-i-mail-medium","app-researcher-popup__contact-icon")),r.appendChild(i),n.appendChild(r),n}(t,e),o=function(t,e){const n=t.querySelector("a.js-orcid");let i;if(!n||l(e))return i;i=document.createElement("span"),i.className="app-researcher-popup__contact";const r=document.createElement("a");return r.setAttribute("data-track","click_orcid"),r.className="app-researcher-popup__link",r.href=n.getAttribute("href"),r.target="_blank",r.rel="noopener",r.appendChild(_("icon-orcid-logo","app-researcher-popup__contact-icon app-researcher-popup__contact-icon--orcid")),r.appendChild(document.createTextNode("View ORCiD profile")),i.appendChild(r),i}(i,n);let s;return(r||o)&&(s=document.createElement("div"),s.className="app-researcher-popup__contacts",r&&s.appendChild(r),o&&s.appendChild(o)),s}(t,r,e),p=document.createDocumentFragment();return u&&p.appendChild(u),d&&p.appendChild(d),p},i=function(t){const e=document.querySelector(`#${t} .c-article-authors-search__list`);let n;if(!e)return n;n=e.cloneNode(!0);const i=n.querySelector(".js-search-name"),r=n.querySelector("a.c-article-button");if(!r)return!1;if(l(t)){const e=function(t){if(a.researcherProfileLink.has(t))return a.researcherProfileLink.get(t);const e=c();if(!e)return a.researcherProfileLink.set(t,null),null;const n=u(t);if(n<0)return a.researcherProfileLink.set(t,null),null;const i=d(e,n),r=i.length>0?i[0].querySelector("a.js-cta-popup-link"):null;return a.researcherProfileLink.set(t,r),r}(t);if(e){const t=e.cloneNode(!0);n.appendChild(t),r.parentNode.replaceChild(t,r)}}else{const t=document.createElement("span");t.textContent="Search all author publications";const e=document.createElement("span");e.classList.add("eds-c-button","eds-c-button--secondary","app-researcher-popup__cta"),r.classList.remove("c-article-button"),r.classList.add("js-cta-popup-link","c-article-authors-search__cta-link"),r.textContent="",e.appendChild(_("icon-eds-i-search-medium","c-article-authors-search__cta-icon")),e.appendChild(t),r.appendChild(e)}return i&&i.parentNode.removeChild(i),n},p=t.getAttribute("data-author-popup"),m=t.closest("li"),g=document.querySelectorAll('span[data-author-role-id="'+p+'"]'),b=t.cloneNode(!0);!function(t){const e=t&&t.querySelector("svg");e&&t.removeChild(e)}(b);const v=document.createElement("div");v.tabIndex=0,v.id="popup-"+p,v.className=`c-popup ${e} u-js-hide`,v.setAttribute("data-track-component","article body"),v.setAttribute("data-track-context",l(p)?"researcher popup with profile":"researcher popup with no profile");const y=document.createElement("section"),E=function(t){const e=t.getAttribute("data-corresp-id");let n;return(e?document.querySelector("#corresp-"+e):null)&&(n=document.createElement("p"),n.className="app-researcher-popup__label",n.textContent="Corresponding author"),n}(t);E&&y.appendChild(E);const S=function(t,e,n,i){const r=[];for(let t=0;i[t];++t){let e=i[t].textContent;!1===r.includes(e)&&r.push(e)}const o=document.createElement("div");o.className="app-researcher-popup__author-title";const s=document.createElement("h3");if(s.id="author-"+n,s.className="app-researcher-popup__subheading",s.innerHTML=t.innerHTML,r.length>0){const t=document.createElement("span");t.className="u-unstyled",t.textContent=r.length>0?`(${r.join(", ")})`:"",s.appendChild(t)}return o.appendChild(s),o}(b,0,p,h(g));if(S&&y.appendChild(S),p.match(/^group/)){const t=function(t){const e=document.querySelector("#"+t);let n;if(!e)return n;n=e.cloneNode(!0);const i=n.querySelector("ul"),r=n.querySelector("h3");return i&&i.classList.add("c-article-author-institutional-author__author-list--popup"),r&&r.parentNode.removeChild(r),n.innerHTML.replaceAll(/[\n\r]/g,""),n}(p);t&&y.appendChild(t)}else{const t=n(b,m,p);t&&y.appendChild(t);const e=i(p);e&&y.appendChild(e)}v.appendChild(y),document.body.appendChild(v);new class{constructor(t,e,n={}){this._trigger=t,this._id=e,this._options=n,this._content=document.querySelector("#"+this._id),this._className="c-popup",this._isOpen=!1,this._arrowClass=this._className+"__arrow",this._closeClass=this._className+"__close",this._closeTextClass=this._className+"__close-text",this._closeButton=`<button class="${this._closeClass}"><span class="${this._closeTextClass}">Close</span></button>`,this._arrow=`<div class="${this._arrowClass}"></div>`,this._closeHandler=()=>{this._close()},this._build(),this._expander=new class{constructor(t,e,n={}){this._options=Object.assign({},s,n),this._autoFocusElement=t,this._triggerEl=t,this._targetEl=e,this._originalTriggerText=t.textContent,this._isOpen=this._options.DEFAULT_OPEN,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonKeydown=this._handleButtonKeydown.bind(this),this._handleDocumentClick=this._handleDocumentClick.bind(this),this._handleDocumentKeydown=this._handleDocumentKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this.close():this.open()}_handleButtonKeydown(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._isOpen?this.close():this.open())}_handleDocumentKeydown(t){"Escape"===t.key&&(this.close(),this._triggerEl.focus()),this._options.CLOSE_ON_FOCUS_OUT&&("Tab"===t.key&&!0===t.shiftKey&&(t.target!==this._targetTabbableItems[0]&&t.target!==this._triggerEl&&t.target!==this._targetEl||(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()}))),"Tab"===t.key&&!1===t.shiftKey&&t.target===this._targetTabbableItems[this._targetTabbableItems.length-1]&&(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()})))}_handleDocumentClick(t){let e=t.target;e===this._targetEl||e===this._triggerEl||this._targetEl.contains(e)||this._triggerEl.contains(e)||!this._options.CLOSE_ON_DOCUMENT_CLICK||this.close()}_setupTemporaryEventListeners(){document.addEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.addEventListener("click",this._handleDocumentClick)}_removeTemporaryEventListeners(){document.removeEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.removeEventListener("click",this._handleDocumentClick)}_updateAttributes(){this._triggerEl.setAttribute("aria-expanded",this._isOpen.toString()),this._isOpen?this._targetEl.removeAttribute("hidden"):this._targetEl.setAttribute("hidden","")}_updateClassAttributes(){this._isOpen?(this._triggerEl.classList.add(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.remove(this._options.TARGET_HIDE_CLASS)):(this._triggerEl.classList.remove(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.add(this._options.TARGET_HIDE_CLASS))}_updateTriggerLabel(){this._options.TRIGGER_OPEN_LABEL&&(this._triggerEl.textContent=this._isOpen?this._options.TRIGGER_OPEN_LABEL:this._originalTriggerText)}_updateTabbableItems(){this._targetTabbableItems=(t=>{const e=[];return t?(Array.prototype.forEach.call(t,(function(t){e.push(t)})),e):e})(this._targetEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(t=>"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility"))}_handleAutoFocus(){"target"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetEl,this._targetEl.setAttribute("tabindex","-1")),"firstTabbable"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetTabbableItems.length>0&&this._targetTabbableItems[0],this._autoFocusElement.setSelectionRange&&this._autoFocusElement.setSelectionRange(0,this._autoFocusElement.value.length)),this._autoFocusElement.focus()}open(){if(!this._isOpen&&(this._isOpen=!0,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._updateTabbableItems(),this._setupTemporaryEventListeners(),this._handleAutoFocus(),this._options.OPEN_EVENT)){const t=r("open","globalExpander",{bubbles:!1});this._triggerEl.dispatchEvent(t)}}close(){this._isOpen&&(this._isOpen=!1,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._removeTemporaryEventListeners())}init(){if("A"===this._triggerEl.tagName&&"#"===this._triggerEl.getAttribute("href").charAt(0)&&(this._triggerEl.setAttribute("href","javascript:;"),this._triggerEl.setAttribute("role","button")),null===this._triggerEl.getAttribute("aria-controls"))if(this._targetEl.id.length>0)this._triggerEl.setAttribute("aria-controls",this._targetEl.id);else{const e=(t=8,(Math.random()+1).toString(36).substring(12-t));this._triggerEl.setAttribute("aria-controls",e),this._targetEl.setAttribute("id",e)}var t;this._options.AUTOFOCUS&&this._triggerEl.setAttribute("aria-haspopup","true"),this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._triggerEl.addEventListener("click",this._handleButtonClick),this._triggerEl.addEventListener("keydown",this._handleButtonKeydown)}}(this._trigger,this._content,{OPEN_EVENT:!0}),this._bindEvents()}open(){this._expander.open()}_build(){this._content.insertAdjacentHTML("beforeend",this._closeButton+this._arrow),document.body.appendChild(this._content)}_getCloseButton(){return this._content.querySelector("."+this._closeClass)}_positionPopup(){this._isOpen=!0,this._options.MAX_WIDTH&&(this._content.style.maxWidth=this._options.MAX_WIDTH),this._options.MIN_WIDTH&&(this._content.style.minWidth=this._options.MIN_WIDTH);const t=this._calcPositioning();this._content.style.top=this._px(t.top),this._content.style.left=this._px(t.left),this._content.style.right=this._px(t.right)}_close(){this._expander.close(),this._isOpen=!1,window.removeEventListener("resize",this._closeHandler)}_px(t){return t+"px"}_bindEvents(){this._expander.init(),this._trigger.addEventListener("globalExpander:open",t=>{t.preventDefault(),this._isOpen||(requestAnimationFrame(()=>{this._positionPopup(),this._content.focus()}),window.addEventListener("resize",o(()=>{this._closeHandler()},{wait:60})))}),this._getCloseButton().addEventListener("click",t=>{t.preventDefault(),this._close()}),this._getCloseButton().addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._close(),this._trigger.focus())}),this._content.addEventListener("keydown",t=>{"Escape"===t.key&&(t.preventDefault(),this._close(),this._trigger.focus())})}_calcPositioning(){const t=document.documentElement.scrollTop,e=this._trigger.getClientRects(),n=e.length>0?e[0]:{top:0,left:0},i={top:n.top+t,left:n.left,right:5},r=i.left,o=this._content.querySelector("."+this._arrowClass),s=document.documentElement.clientWidth,a=this._options.PAGE_PADDING?this._options.PAGE_PADDING:32,c=i.top-this._content.offsetHeight-12,l=i.top-this._content.offsetHeight-12,u=i.top+n.height+12,d=i.left+this._content.offsetWidth-s+a;d>0&&(d>i.left?i.left=5:i.left-=d);let h,p=!1;if(n.length>1&&(p=!0,s>1024&&(i.left=n.left-this._content.offsetWidth/2+20)),c<t?(h=u,o.classList.remove(this._arrowClass+"--above"),o.classList.add(this._arrowClass+"--below")):(h=l,o.classList.remove(this._arrowClass+"--below"),o.classList.add(this._arrowClass+"--above")),s<768)o.style.left=this._px(r+5);else if(p){const t=Math.round(i.left+this._content.offsetWidth-n.left-20);o.style.left=this._px(Math.round(this._content.offsetWidth-t))}else o.style.left=this._px(Math.max(Math.round(n.width/2-10)+(d>0?d:0),5));return{left:s<768?5:i.left,top:h,right:5}}}(t,"popup-"+p,{MAX_WIDTH:"788px",MIN_WIDTH:"300px"}).open()},n=t.nextElementSibling,i={};if(n&&n.classList.contains("c-article-author-list__button")){const e=n.querySelector("span"),r=e?e.textContent.replace(/\s+$/,"").split(/\s+/).pop():"authors",o=n.querySelector("use"),s=t.querySelector("li:last-child a").getAttribute("data-author-popup"),a="#popup-"+s;n.addEventListener("click",(function(){if(document.querySelector(a)){document.querySelector(a).remove();const t=s;i[t]&&delete i[t]}if(t.classList.contains("c-article-author-list--expanded"))t.classList.remove("c-article-author-list--expanded"),n.setAttribute("aria-expanded","false"),o&&o.setAttribute("xlink:href","#icon-eds-i-chevron-down-medium"),e&&(e.textContent="Show "+r),p(n);else{const i=h(t.querySelectorAll(".c-article-author-list__item")).filter((function(t){return"none"===window.getComputedStyle(t,null).display}));t.classList.add("c-article-author-list--expanded"),n.setAttribute("aria-expanded","true"),o&&o.setAttribute("xlink:href","#icon-eds-i-chevron-up-medium"),e&&(e.textContent="Show fewer "+r),p(i.length>0?i[0].querySelector("a"):n)}}))}t.classList.add("js-no-scroll");const m=t.querySelectorAll("li a[data-author-popup]"),g=c();if(m.length>0)for(const t of Array.from(m)){l(t.getAttribute("data-author-popup"))&&t.setAttribute("data-track-context","researcher popup with profile")}h(t.querySelectorAll("sup > a")).forEach((function(t){t.setAttribute("tabIndex","-1")})),t.addEventListener("click",(function(t){const n=t.target.closest("a");if(n){const t=n.getAttribute("data-author-popup");if(t&&!i[t]){i[t]=1,e(n);const r=document.querySelector("#popup-"+t);new MutationObserver(t=>{t.forEach(t=>{t.target.classList.contains("u-js-hide")||p(r)})}).observe(r,{attributes:!0,attributeFilter:["class"]})}}})),g&&g.classList.add("u-js-hide")}}}var g={exports:{}};g.exports=function(){function t(t){return t.querySelector(".js-expandable-title").id}function e(t,e){var n=t.querySelector("[data-expandable-box]"),i=t.querySelector("[data-expandable-label]");t.querySelectorAll("a[href]").forEach((function(t){t.setAttribute("tabIndex","0")})),e&&(n.setAttribute("tabIndex","-1"),n.focus()),n.parentNode.classList.add("c-article-box--expanded"),n.style.height="auto",n.removeAttribute("aria-hidden"),i.parentNode.setAttribute("aria-expanded","true"),i.textContent="Show less",t.isOpen=!0}function n(t,e){var n=t.querySelector("[data-expandable-box]"),i=t.querySelector("[data-expandable-label]");t.querySelectorAll("a[href]").forEach((function(t){t.setAttribute("tabIndex","-1")})),n.parentNode.classList.remove("c-article-box--expanded"),n.style.height="95px",n.setAttribute("aria-hidden","true"),i.parentNode.setAttribute("aria-expanded","false"),i.textContent="Show more",e&&n.scrollIntoView(),t.isOpen=!1}return{init:function(i){(i||[]).forEach((function(i){var r=['<div class="c-article-box__controls">','<div class="c-article-box__fade"></div>','<button aria-expanded="false" aria-describedby="'+t(i)+'"><span class="c-article-box__button-text" data-expandable-label></span></button>',"</div>"].join("");i.insertAdjacentHTML("beforeend",r),n(i),i.querySelector("button").addEventListener("click",(function(){!function(t){t.isOpen?n(t,!0):e(t,!0)}(i)}),!1)})),window.addEventListener("hashchange",(function(){var t=location.hash?document.querySelector(location.hash):null,n=t&&t.closest("[data-expandable-box]");n&&e(n.parentNode)}))}}};var b=g.exports;var v=()=>{var t,e,n=!1,i=!1,r=0;function o(t,e){return Array.prototype.slice.call(t.querySelectorAll(e))}var s=function(t,e,n){return t.split(e).join(n)};function a(t){var e,n;this.html=t.querySelector("a")?(e=t.innerHTML,(n=document.createElement("div")).innerHTML=e,o(n,"a").forEach((function(t){var e=document.createElement("span");t.href.includes("#Fn")&&e.classList.add("u-visually-hidden"),e.innerHTML=t.innerHTML,t.parentNode.replaceChild(e,t)})),n.innerHTML):t.innerHTML,this.text=s(t.textContent,/[^\d\sa-z]/gi,""),this.id=t.id}function c(t,e){var n=t.querySelector(".c-article-supplementary__title a");n?(this.id=t.id,this.caption=n.innerHTML,this.link=n.href,this.images=[this.placeholderFor(n,e)]):(this.id=(t.querySelector(".c-article-section__figure-caption")||{id:null}).id,this.caption=(t.querySelector("figcaption > b")||{innerHTML:"Figure"}).innerHTML,this.link=(t.querySelector(".c-article__pill-button")||{href:null}).href,this.images=this.findImages(t,e))}function l(t){var e=t.querySelector(".c-article-references__text");this.id=e.id,this.num=t.parentElement.querySelector(".c-article-references__item").dataset.counter||"",this.citation=e.innerHTML,this.links=this.findLinks(t)}function u(t){this.href=t.href,this.text=t.textContent,this.label=t.getAttribute("data-track-label")||"link",this.itemId=t.getAttribute("data-track-item_id")||"link",this.action=this.text.trim().toLowerCase()}function d(t){return document.getElementById("rc-sec-"+t)}function h(t,e){var n="c-reading-companion--highlighted";e&&(p(t),e.setAttribute("tabindex","-1"),e.focus(),e.classList.add(n),e.addEventListener("animationend",(function t(){e.classList.remove(n),e.removeEventListener("animationend",t)})),e.scrollIntoView({block:"start"}))}function p(e,n){var i,r,s,a=t.querySelector(".c-reading-companion__"+e),c=t.querySelector(".c-reading-companion__panel--active");a&&c&&(i=a.querySelector("img[data-src]"),r=t.querySelector("button[aria-controls="+a.id+"]"),i&&o(a,"picture").forEach((function(t){var e=t.querySelector("source"),n=t.querySelector("img");e.srcset=e.getAttribute("data-srcset"),e.removeAttribute("data-srcset"),n.src=n.getAttribute("data-src"),n.removeAttribute("data-src")})),c&&((s=t.querySelector("button[aria-controls="+c.id+"]")).setAttribute("aria-selected","false"),s.setAttribute("tabindex","-1"),s.classList.remove("c-reading-companion__tab--active"),c.classList.remove("c-reading-companion__panel--active"),c.removeAttribute("tabindex")),r.setAttribute("aria-selected","true"),r.removeAttribute("tabindex"),r.classList.add("c-reading-companion__tab--active"),a.classList.add("c-reading-companion__panel--active"),n&&n.focus&&r.focus(),window.requestAnimationFrame(m))}function f(){const n=t.querySelector(".c-reading-companion__panel--active"),o=n.querySelector(".c-reading-companion__scroll-pane"),s=n.querySelector("[data-component-mpu]"),a=s?function(t){const e=t.offsetHeight,n=window.getComputedStyle(t);return["top","bottom"].map(t=>parseInt(n["margin-"+t],10)).reduce((t,e)=>t+e,e)}(s):0,c=e?r+(e.offsetHeight+8):r,l=o.getBoundingClientRect().top+r+a,u=o.offsetTop+c+a,d=window.innerHeight<=560;return!1===i&&l>=420&&s?"auto":window.innerHeight>l&&window.innerHeight-l>=300||i||d?l:u}function _(){const e=t.querySelector(".c-reading-companion__panel--active").querySelector(".c-reading-companion__scroll-pane"),n=f();e.style.maxHeight="auto"!==n?window.innerHeight-n+"px":"none"}function m(){var n=document.querySelector("div[data-component=article-container]"),o=e?r+(e.offsetHeight+8):r,s=t.parentNode.getBoundingClientRect().top<=o,a=t.offsetHeight,c=n.getBoundingClientRect().bottom-document.documentElement.clientTop-(a+o),l="c-reading-companion__sticky--stuck",u=t.classList;i=u.contains(l);const d=t.getBoundingClientRect().width>0;!i&&s&&d?(u.add(l),i=!0):i&&!s&&d&&(u.remove(l),i=!1),i&&d&&(t.style.width=t.parentNode.getBoundingClientRect().width+"px"),c<=0?t.style.top=c+o+"px":(t.style.top=o+"px",_())}function g(n,i){if(!t.querySelector(".c-reading-companion__sections-list"))return;const s=t.querySelector(".c-reading-companion__sections-list").parentNode;i.on("nav.section",(function(t,e){var n,i,r,o,a,c,l,u,h=e&&d(e),p=t&&d(t);h&&h.classList.remove("c-reading-companion__section-item--active"),p&&(p.classList.add("c-reading-companion__section-item--active"),n=p,r=(i=s).clientHeight,o=i.scrollTop+i.offsetTop,a=o+r,c=r/4,l=n.offsetTop,u=l+n.clientHeight,l<o?i.scrollTop-=o-l+c:u>a&&(i.scrollTop+=u-a+c))})),i.on("nav.figure",(function(t){h("figures",function(t){return document.getElementById("rc-"+t)}(t))})),i.on("nav.reference",(function(t,e){var n=function(t){return document.getElementById("rc-"+t)}(t);e&&function(t,e){var n=t.querySelector(".c-reading-companion__return");n&&n.parentNode.removeChild(n),(n=document.createElement("a")).href="#"+e.id,n.appendChild(document.createTextNode("Return to ref "+e.textContent+" in article")),n.className="c-reading-companion__return",n.addEventListener("click",(function(){n.parentNode.removeChild(n)})),t.appendChild(n)}(n,e),h("references",n)})),n.on("scroll resize orientationchange",m);const a=e?r+(e.offsetHeight+8):r;window.pageYOffset>a&&window.requestAnimationFrame(m);const c=t.querySelector(".c-reading-companion__tabs");c&&(c.addEventListener("keydown",(function(e){var n,i=document.activeElement.parentNode;"ArrowLeft"===e.key?n=i.previousElementSibling||t.querySelector(".c-reading-companion__tabs > li:last-child"):"ArrowRight"===e.key&&(n=i.nextElementSibling||t.querySelector(".c-reading-companion__tabs > li:first-child")),n&&p(n.querySelector("[data-tab-target]").getAttribute("data-tab-target"),{focus:!0})}),!1),o(c,".c-reading-companion__tab").forEach((function(t){t.addEventListener("click",(function(t){p(t.target.getAttribute("data-tab-target"),{focus:!0})}),!1)})))}function b(t,e){t.insertAdjacentHTML("beforebegin",e)}function v(){var e=["sections","figures","references"].map((function(t){var e,n,i=document.querySelector(".c-reading-companion__"+t),r=function(t,e){var n={sections:function(t){var e=[];return t.forEach((function(t){e.push(new a(t))})),e.length>0?'<ul class="c-reading-companion__sections-list">'+e.map((function(t){return t.render()})).join("")+"</ul>":""},figures:function(t){var e=[];return t.forEach((function(t,n){var i=new c(t,n+1);i.id&&e.push(i)})),e.length?'<ul class="c-reading-companion__figures-list">'+e.map((function(t){return t.render()})).join("")+"</ul>":""},references:function(t){var e=[];return t.forEach((function(t){e.push(new l(t))})),e.length?'<ol class="c-reading-companion__references-list'+(e[0].num?" c-reading-companion__references-list--numeric":"")+'" data-track-context="article references sidebar">'+e.map((function(t){return t.render()})).join("")+"</ol>":""}};return n[t]?n[t](e):""}(t,o(document,".js-c-reading-companion-"+t+"-item")),s=(e=t,n=t.charAt(0).toUpperCase()+t.substring(1),'<li role="presentation"><button data-tab-target="'+e+'" role="tab" id="tab-'+e+'" aria-controls="tabpanel-'+e+'" aria-selected="false" tabindex="-1" class="c-reading-companion__tab" data-track="click" data-track-action="'+e+' tab" data-track-label="tab">'+n+"</button></li>");return r&&i?(i.setAttribute("aria-labelledby","tab-"+t),i.setAttribute("role","tabpanel"),function(t,e){t.insertAdjacentHTML("afterbegin",e)}(i,'<div class="c-reading-companion__scroll-pane">'+r+"</div>")):i&&i.parentNode.removeChild(i),!(!r||!i)&&s})).filter((function(t){return Boolean(t)})),n=t.querySelector(".c-reading-companion__panel"),i=e.length;return i>1?b(n,function(t){return'<ul class="c-reading-companion__tabs" role="tablist">'+t.join("")+"</ul>"}(e)):1===i&&b(n,'<h3 class="c-reading-companion__heading u-font-family-sans">Sections</h3>'),i}return a.prototype.render=function(){return'<li id="rc-sec-'+this.id+'" class="c-reading-companion__section-item"><a href="#'+this.id+'" data-track="click" data-track-action="section anchor" data-track-label="link:'+s(this.text,/(^\d+)/g,"")+'">'+this.html+"</a></li>"},c.prototype={findImages:function(t,e){var n=[],i=this;return o(t,"picture > img").forEach((function(t){n.push(i.placeholderFor(t,e))})),n},placeholderFor:function(t,e){var n=t.getAttribute("data-supp-info-image")||t.src,i=t.alt||"extended data figure "+e,r="rc-"+this.id,o=-1===n.indexOf("?")?"?":"&";return["<picture>",'<source data-srcset="'+n+o+'">','<img data-src="'+n+'" alt="'+i+'" aria-describedby="'+r+'"/>',"</picture>"].join("")},render:function(){return['<li class="c-reading-companion__figure-item">',"<figure>",'<figcaption><b class="c-reading-companion__figure-title u-h4" id="rc-'+this.id+'">'+this.caption+"</b></figcaption>",this.images.join(""),this.link||this.id?'<p class="c-reading-companion__figure-links">':"",this.id&&n?'<a href="#'+this.id+'" data-track="click" data-track-action="figure anchor" data-track-label="link">View in article</a>':"",this.link&&n?'<a href="'+this.link+'" class="c-reading-companion__figure-full-link" data-track="click" data-track-action="view figure" data-track-label="link" rel="nofollow">Full size image<svg width="16" height="16" class="u-icon"><use href="#icon-chevron-right"/></svg></a>':"",this.link||this.id?"</p>":"","</figure>","</li>"].join("")}},l.prototype.findLinks=function(t){var e=[];return o(t,".c-article-references__links a").forEach((function(t){e.push(new u(t))})),e},l.prototype.render=function(){return['<li class="c-reading-companion__reference-item">','<p class="c-reading-companion__reference-citation u-font-family-serif" id="rc-'+this.id+'">'+this.citation+"</p>",this.links.length>0?'<p class="c-reading-companion__reference-links">'+this.links.map((function(t){return t.render()})).join("")+"</p>":"","</li>"].join("")},u.prototype.render=function(){return'<a href="'+this.href+'" data-track="click_references" data-track-action="'+this.action+' reference" data-track-value="'+this.action+' reference" data-track-label="'+this.label+'" data-track-item_id="'+this.itemId+'">'+this.text+"</a>&nbsp;"},{init:function(i,o,s){n=Boolean(i.access),r=i.offset||0;var a=!1,c=function(n){!function(n){if(!a&&!n.matches&&(t=document.querySelector("[data-component=reading-companion-sticky]"))){e=document.querySelector("[data-context-bar]");var i=v();0!==i&&(g(o,s),i>1&&p("sections"),_(),a=!0)}}(n),s.emit("rc.display",!n.matches&&a)},l=window.matchMedia(i.matchMediaQuery||"(max-width: 1023px)");l.addListener(c),c(l)}}},y={exports:{}};!function(t){var e=function(t,e){return function(){var n=null,i=[],r=null,o=0,s=null,a=!1,c=null;function l(){return c?o+(c.offsetHeight+8):o}function u(){t.addEventListener("scroll",(function e(){t.removeEventListener("scroll",e),setTimeout((function(){t.scrollBy(0,-1*l())}),1)}),!1)}function d(){var o=t.innerHeight,s=e.documentElement.clientTop,a=null,c=function(t){return t.getBoundingClientRect().top-s},u=l();i.forEach((function(t){if(c(t)<=u+o/2)if(a){var n=e.getElementById(a);c(n)<=u-n.offsetHeight&&(a=t.id)}else a=t.id})),a!==r&&(n.emit("nav.section",a,r),r=a)}function h(i){var r=null;if(i.target&&i.target.closest&&(r=i.target.closest("a")),r&&r.hash&&(!s||!r.closest(s))&&r.pathname===t.location.pathname){var o=function(t){var e=t.hash;if(!e||function(t){return Boolean(t.closest(".c-reading-companion"))}(t))return!1;return e.match(/#(Fig|f|sf)\d+/)}(r),c=!o&&function(t){var n=t.hash;if(!n)return!1;var i=e.querySelector('div[data-container-section="references"]');return i&&Boolean(i.querySelector(n))}(r),l=r.hash.slice(1),d=e.getElementById(l);if(a&&(o||c))return o?n.emit("nav.figure",l,r):c&&n.emit("nav.reference",l,r),void i.preventDefault();n.emit("nav.anchor",l,r),function(t){var e,n,i,r,o,s=function(e){return t.nodeName.toLowerCase()===e};t&&(e=t.hasAttribute("tabindex"),n=s("a")&&t.href,i=s("button"),r=s("input"),o=s("textarea"),(t.getAttribute("disabled")||!(e||n||i||r||o))&&t.setAttribute("tabindex","-1"),t.focus())}(d),u()}}return{init:function(r,l,p){c=e.querySelector("[data-context-bar]"),i=e.querySelectorAll(".js-section-title"),o=r.offset||0,s=r.exclude||"js-no-scroll",(n=p).on("rc.display",(function(t){a=t})),l.on("scroll resize orientationchange",d),e.body.addEventListener("click",h,!1),t.location.hash&&u()}}}}(window,document);t.exports=e}(y);var E=y.exports,S={exports:{}};!function(t){t.exports=function(){var t=null,e=null,n=!1,i=function(t){e=document.querySelector(".js-share-url"),r(t).then((function(t){t.url?(e.textContent=t.url,s("js-share-url-container"),c()):s("js-no-share-url-container")})).catch((function(){s("js-no-share-url-container")}))},r=function(t){return new Promise((function(e,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){i.readyState===i.DONE&&(200===i.status?e(JSON.parse(i.responseText)):n())})),i.open("GET",t),i.send()}))},o=function(t,e){var n=document.querySelector("."+t);n.classList.remove("u-display-none"),n.classList.add(e),n.removeAttribute("hidden")},s=function(e){t.classList.add("u-display-none"),t.setAttribute("hidden",""),o(e,"u-display-inline")},a=function(t){o(t,"u-display-block")},c=function(){document.querySelector(".js-copy-share-url").addEventListener("click",(function(){l(e),u(),document.execCommand("copy"),setTimeout(u,500)}))},l=function(t){var e=window.getSelection();t?e.selectAllChildren(t):e.removeAllRanges()},u=function(){n?(e.classList.remove("c-article-share-box__only-read-input--highlighted"),n=!1):(e.classList.add("c-article-share-box__only-read-input--highlighted"),n=!0)};return{init:function(e){var n,r=e&&e.doi?e.doi:"",o=(e&&e.url?e.url:"")+r;""!==o&&((n=document.querySelector('[data-component="share-box"]'))&&a("c-article-share-box"),Boolean(n))&&function(e){(t=document.querySelector(".js-get-share-url")).addEventListener("click",i.bind(this,e))}(o)}}}}(S);var A=S.exports;const C={STICKY_FROM_SELECTOR:".js-context-bar-sticky-point-mobile",STICKY_FROM_DESKTOP_SELECTOR:".js-context-bar-sticky-point-desktop",COMPONENT_SELECTOR:"[data-context-bar]",HIDE_CLASS:"u-hide"};class L{constructor(t,e={}){this._options=Object.assign({},C,e),this._component=document.querySelector(this._options.COMPONENT_SELECTOR),document.querySelector(".js-context-bar-sticky-point-masthead")&&(this._options.STICKY_FROM_SELECTOR=this._options.STICKY_FROM_DESKTOP_SELECTOR=".js-main-column"),t&&this._component&&(this._scheduler=t,this._stickyFrom=document.querySelector(this._options.STICKY_FROM_SELECTOR),this._stickyFromDesktop=document.querySelector(this._options.STICKY_FROM_DESKTOP_SELECTOR),(this._stickyFrom||this._stickyFromDesktop)&&(this._button=this._component.querySelector(".c-pdf-download"),this._stickyPoint=0,this._init(),window.scrollY>0&&this._update()))}_init(){this._scheduler.on("scroll orientationchange resize",this._update.bind(this))}_handleButton(){this._button?(this._addGAButtonTracking(),this._button.querySelector("a").setAttribute("tabindex","-1")):this._component.classList.add("c-context-bar--no-button")}_preventDisplayingSmallViewport(){return window.innerWidth<211}_update(){const t=window.matchMedia("(min-width: 1023px)").matches?this._stickyFromDesktop:this._stickyFrom;t&&(this._stickyPoint=t.offsetTop-8-window.pageYOffset,this._stickyPoint<=0&&this._handleButton(),this._toggleBanner())}_addGAButtonTracking(){this._button.querySelector("a").setAttribute("data-track-label","button sticky");const t=this._button.querySelector("a").getAttribute("href").split("?")[0];this._button.querySelector("a").setAttribute("href",t)}_toggleBanner(){const t=this._preventDisplayingSmallViewport();this._stickyPoint<=0&&!t?(this._component.classList.remove(this._options.HIDE_CLASS),this._component.classList.add("c-context-bar--sticky"),this._component.setAttribute("aria-hidden",!1)):(this._component.classList.add(this._options.HIDE_CLASS),this._component.classList.remove("c-context-bar--sticky"),this._component.setAttribute("aria-hidden",!0))}}var x={exports:{}};!function(t){t.exports=function(){return{init:function(t,e,n){(t||[]).forEach((function(t){this.bindEvents(t,e,n)}),this)},bindEvents:function(t,e,n){var i=function(){var e,n;n="c-table-scroll-wrapper__fade",(e=t).scrollWidth-(e.scrollLeft+e.clientWidth)>0?(e.classList.add(n),e.classList.remove("c-table-scroll-wrapper__fade--transparent")):e.classList.add("c-table-scroll-wrapper__fade--transparent")};n.on("load resize",i),t.addEventListener("scroll",e(i,{wait:100}),!1)}}}}(x);var w=x.exports;function k(t){const e=document.createElement("script");e.async="async",e.addEventListener("load",t),e.src="https://widgets.figshare.com/static/figshare.js",document.head.append(e)}function T(){figshare.load("springer_nature",(function(t){const e=document.querySelector("#figshareContainer"),n=new t({version:"3",width:650,height:450,breakPoint:550,showStats:!1,showPageInfo:!1,showShareButton:!1,showFileDetails:!0,preferFileMetadata:!0,collection:{resourceDOI:null},item:{resourceDOI:(((window.dataLayer||[{}])[0].content||{}).article||{}).doi||""}});n.on("mount",(function(){})),n.on("unmount",(function(){})),n.on("loading",(function(){})),n.on("canDisplay",(function(){})),n.on("done",(function(){})),n.on("filesError",(function(){})),n.on("openInFigshare",(function(){})),n.on("error",(function(){})),n.initialize(),n.mount(e)}))}const q=()=>{var n,r,o=document.querySelector('[data-component-authors-activator="authors-list"]');!function(){var t={EventEmitter:e,ShareBox:A,InternalNavigation:E,Scheduler:i,AuthorList:m,ScrollWrapper:w,Boxes:b};for(var n in Component=Component||{},t)Object.prototype.hasOwnProperty.call(t,n)&&(Component[n]=new t[n])}(),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),Component.ContextBar=new L(Component.Scheduler),n=Component.EventEmitter,r={offset:32,exclude:"js-no-scroll",access:!0},Component.InternalNavigation.init(r,Component.Scheduler,n),Component.EventEmitter.on("rc.display",()=>{const t=document.querySelector(".c-reading-companion [data-component-mpu]");t&&(t.classList.remove("u-hide"),t.classList.add("u-show"))}),v().init({offset:32,exclude:"js-no-scroll",access:!0},Component.Scheduler,Component.EventEmitter);var s,a=(s=document.querySelector('meta[name="DOI"]'))?s.getAttribute("content"):"";if(a&&Component.ShareBox.init({doi:a,url:"/shared-it?doi="}),o){var c=o.getAttribute("data-etal")||null,l=o.getAttribute("data-etal-small")||c;Component.AuthorList.create(o,{etal:c,etalSmallscreen:l})}Component.ScrollWrapper.init(document.querySelectorAll("[data-component-scroll-wrapper]"),t,Component.Scheduler),Component.Boxes.init(document.querySelectorAll("div[data-expandable-box-container]"));const u=Array.prototype.slice.call(document.querySelectorAll('[mi24-video-player="true"]'),0);u.length>0&&((t=[])=>{new MutationObserver(()=>{t.forEach(t=>{const e=t.querySelector(".mi-big-play-cover");if(e){((t,e)=>{t.setAttribute("aria-describedby","video-description-"+e),t.setAttribute("aria-label","Play video"),t.setAttribute("role","button"),t.setAttribute("tabIndex","0"),t.addEventListener("keypress",e=>{((t,e)=>{"Enter"!==t.key&&" "!==t.key||(e&&e.removeAttribute("tabIndex"),t.currentTarget.click(),t.preventDefault())})(e,t)},!1)})(e,t.getAttribute("video-id"))}})}).observe(document,{childList:!0,subtree:!0})})(u),function(){const t=document.querySelector("#figshareContainer");if(!t)return;const e=new IntersectionObserver((function(t){for(let n=0;t[n];++n)if(t[n].isIntersecting&&document.documentElement.clientWidth>1023){k(T),e.disconnect();break}}),{rootMargin:"100px 0px 100px 0px",threshold:0});e.observe(t)}()};"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){q()}),!1):q()}();

//# sourceMappingURL=global-article-es6-bundle-aeefa8ee17.js.map
